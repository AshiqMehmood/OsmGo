{"version":3,"sources":["../../src/pages/main/main.ts","../../src/services/router.service.ts","../../src/pages/pushDataToOsm/pushDataToOsm.ts","../../src/pages/about/about.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/login/login.ts","../../src/pages/settings/settings.ts","../../src/pages/modal/modal.ts","../../src/pages/modal/modal.primaryTag/modal.primaryTag.ts","../../src/pages/modal/modalSelectList/modalSelectList.ts","../../src/app/main.ts","../../src/services/config.service.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/services/osmApi.service.ts","../../src/services/map.service.ts","../../src/services/data.service.ts","../../src/services/tags.service.ts","../../src/services/alert.service.ts","../../src/pages/modal/components/READ_PrimaryKey.component.ts","../../src/pages/modal/components/EDIT_PrimaryKey.component.ts","../../src/pages/modal/components/READ_Presets.component.ts","../../src/pages/modal/components/EDIT_Presets.component.ts","../../src/pages/modal/components/READ_OtherTag.component.ts","../../src/pages/modal/components/EDIT_OtherTag.component.ts","../../src/pages/modal/components/READ_Meta.component.ts","../../src/pages/menu/menu.ts","../../src/pipes/keys.pipe.ts","../../src/pipes/filterExcludeKeys.pipe.ts","../../src/pipes/filterIncludeKeys.pipe.ts","../../src/pipes/filterNullValue.pipe.ts","../../src/pipes/toLowercase.pipe.ts","../../src/pipes/filterByContent.pipe.ts","../../src/services/location.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, ModalController, ToastController, Platform, AlertController } from 'ionic-angular';\n\nimport { MenuController } from 'ionic-angular';\n\n\nimport { OsmApiService } from '../../services/osmApi.service';\nimport { TagsService } from '../../services/tags.service';\nimport { MapService } from '../../services/map.service';\nimport { DataService } from '../../services/data.service';\nimport { LocationService } from '../../services/location.service';\nimport { RouterService } from '../../services/router.service';\nimport { AlertService } from '../../services/alert.service';\nimport { ConfigService } from '../../services/config.service';\nimport { ModalsContentPage } from '../modal/modal';\n\n\n@Component({\n  templateUrl: 'main.html',\n  selector: 'main',\n})\n\nexport class MainPage {\n\n  constructor(public navCtrl: NavController, public modalCtrl: ModalController, public toastCtrl: ToastController, public menuCtrl: MenuController,\n    public osmApi: OsmApiService,\n    public tagsService: TagsService,\n    public mapService: MapService,\n    public dataService: DataService,\n    public routerService: RouterService,\n    public locationService: LocationService,\n    public alertService: AlertService,\n    public configService: ConfigService,\n    public platform: Platform,\n    private alertCtrl: AlertController\n  ) {\n    // backButton\n    this.platform.registerBackButtonAction(e => {\n      this.presentConfirm();\n    });\n\n    mapService.eventShowModal.subscribe(data => {\n      let newPosition = (data.newPosition) ? data.newPosition : false;\n      let modal = this.modalCtrl.create(ModalsContentPage, { type: data.type, data: data.geojson, newPosition: newPosition, origineData: data.origineData});\n      modal.onDidDismiss(data => {\n        if (data) {\n          if (data.type === 'Move') {\n            this.mapService.eventMoveElement.emit(data);\n          }\n          if (data.redraw) {\n            setTimeout(() => {\n              this.mapService.eventMarkerReDraw.emit(this.dataService.getGeojson());\n              this.mapService.eventMarkerChangedReDraw.emit(this.dataService.getGeojsonChanged());\n            }, 100);\n\n          }\n        }\n      });\n      modal.present();\n    });\n\n\n    this.alertService.eventNewAlert.subscribe(alert => {\n      this.presentToast(alert);\n    })\n\n\n  }\n\n  presentConfirm() {\n    let alert = this.alertCtrl.create({\n      title: 'Vraiment?',\n      message: 'Voulez vous vraiment quitter Osm Go! ?',\n      buttons: [\n        {\n          text: 'Non',\n          role: 'cancel',\n          handler: () => {\n\n          }\n        },\n        {\n          text: 'Oui',\n          handler: () => {\n            this.platform.exitApp();\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  loadData() {\n    this.mapService.loadingData = true;\n    let bbox = this.mapService.getBbox()\n    this.osmApi.getDataFromBbox(bbox, false, this.configService.getDelegateDataConversion())\n      .subscribe(data => { // data = geojson a partir du serveur osm\n    \n      },\n      err => {\n        this.mapService.loadingData = false;\n        this.presentToast(err);\n      });\n  }\n\n\n\n  goToPage(pageName) {\n    this.routerService.pushPage(pageName)\n\n  }\n  goToPushDataPage() {\n    if (this.osmApi.getUserInfo().connected) {\n      this.goToPage('pushDataToOsmPage');\n    } else {\n      this.goToPage('loginPage');\n    }\n  }\n\n\n\n  presentToast(message) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: 5000,\n      showCloseButton: true,\n      closeButtonText: 'X'\n    });\n    toast.present();\n  }\n\n  ngAfterViewInit() {\n    this.tagsService.loadTags();\n    this.mapService.eventDomMainReady.emit(document.getElementById('map'));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/main.ts","import { Injectable } from '@angular/core';\r\nimport { App } from 'ionic-angular';\r\nimport { PushDataToOsmPage } from '../pages/pushDataToOsm/pushDataToOsm';\r\nimport { AboutPage } from '../pages/about/about';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { MainPage } from '../pages/main/main';\r\nimport { SettingsPage } from '../pages/settings/settings';\r\n\r\n\r\n@Injectable()\r\nexport class RouterService {\r\n    pages = {\r\n        \"pushDataToOsmPage\": { \"component\": PushDataToOsmPage },\r\n        \"aboutPage\": { \"component\": AboutPage },\r\n        \"loginPage\": {\"component\" : LoginPage},\r\n        \"mainPage\": { \"component\" : MainPage },\r\n        \"settingsPage\": { \"component\" : SettingsPage }\r\n    };\r\n\r\n    constructor(private app: App) {\r\n\r\n    }\r\n\r\n\r\n    pushPage(pageName) {\r\n        let nav = this.app.getActiveNav()\r\n        nav.push(this.pages[pageName].component);\r\n    }\r\n\r\n    setRootPage(pageName) {\r\n        let nav = this.app.getActiveNav()\r\n        nav.setRoot(this.pages[pageName].component);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/router.service.ts","import { Component } from '@angular/core';\r\n\r\nimport { NavController, AlertController, Platform,ViewController } from 'ionic-angular';\r\nimport { OsmApiService } from '../../services/osmApi.service';\r\nimport { TagsService } from '../../services/tags.service';\r\nimport { MapService } from '../../services/map.service';\r\nimport { DataService } from '../../services/data.service';\r\n\r\n\r\n\r\n@Component({\r\n    selector: 'page-push-data-to-osm',\r\n    templateUrl: 'pushDataToOsm.html'\r\n})\r\n\r\nexport class PushDataToOsmPage {\r\n\r\n    summary = { \"Total\": 0, \"Create\": 0, \"Update\": 0, \"Delete\": 0 }\r\n    index = 0;\r\n    changesetId = '';\r\n    commentChangeset = '';\r\n    isPushing: boolean = false;\r\n    featuresChanges = {};\r\n\r\n    constructor(\r\n        public dataService: DataService,\r\n        public osmApi: OsmApiService,\r\n        public tagsService: TagsService,\r\n        public mapService: MapService,\r\n        public navCtrl: NavController,\r\n        private alertCtrl: AlertController,\r\n           public platform: Platform,\r\n            public viewCtrl: ViewController\r\n    ) {\r\n        this.platform.registerBackButtonAction(e => {\r\n            this.dismiss();\r\n        });\r\n        this.commentChangeset = this.osmApi.getChangesetComment();\r\n        this.featuresChanges = this.dataService.getGeojsonChanged().features;\r\n    }\r\n\r\n    dismiss(data = null) {\r\n        this.viewCtrl.dismiss(data);\r\n    }\r\n\r\n    presentConfirm() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Vraiment?',\r\n            message: 'Supprimer toutes les modifications?',\r\n            buttons: [\r\n                {\r\n                    text: 'Annuler',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Confirmer',\r\n                    handler: () => {\r\n                        this.cancelAllFeatures()\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n    displayError(error) {\r\n        let alert = this.alertCtrl.create({\r\n            title: error.statusText + ' : ' + error.status,\r\n            message: error._body,\r\n            buttons: [\r\n                {\r\n                    text: 'Fermer',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }\r\n    getSummary() {\r\n        let summary = { \"Total\": 0, \"Create\": 0, \"Update\": 0, \"Delete\": 0 }\r\n        this.featuresChanges = this.dataService.getGeojsonChanged().features;\r\n        let featuresChanged = this.dataService.getGeojsonChanged().features;\r\n\r\n        for (let i = 0; i < featuresChanged.length; i++) {\r\n            let featureChanged = featuresChanged[i];\r\n            summary[featureChanged.properties.changeType]++;\r\n            summary['Total']++\r\n        }\r\n        return summary;\r\n    }\r\n\r\n    private pushFeatureToOsm(featureChanged, CS, index) {\r\n        if (featureChanged) {\r\n            if (featureChanged.properties.changeType === 'Create') {\r\n                this.osmApi.apiOsmCreateNode(featureChanged, CS)\r\n                    .subscribe(id => {\r\n\r\n                        let newFeature = {};\r\n                        newFeature['type'] = 'Feature';\r\n                        newFeature['id'] = 'node/' + id;\r\n                        newFeature['properties'] = {};\r\n                        newFeature['geometry'] = JSON.parse(JSON.stringify(featureChanged.geometry));\r\n                        newFeature['properties']['type'] = 'node';\r\n                        newFeature['properties']['id'] = id;\r\n                        newFeature['properties']['tags'] = JSON.parse(JSON.stringify(featureChanged.properties.tags));\r\n                        newFeature['properties']['meta'] = {};\r\n                        newFeature['properties']['meta']['version'] = 1;\r\n                        newFeature['properties']['meta']['user'] = this.osmApi.getUserInfo().user;\r\n                        newFeature['properties']['meta']['uid'] = this.osmApi.getUserInfo().uid;\r\n                        newFeature['properties']['meta']['timestamp'] = new Date().toISOString();\r\n\r\n                        newFeature = this.mapService.getIconStyle(newFeature); // style\r\n                        this.summary.Total--;\r\n                        this.summary.Create--;\r\n                        // this.dataService.deleteFeatureFromGeojson(featureChanged); //suppression des data\r\n                        this.dataService.deleteFeatureFromGeojsonChanged(featureChanged)\r\n\r\n                        this.dataService.addFeatureToGeojson(newFeature); //creation du nouveau \r\n                        this.pushFeatureToOsm(this.dataService.getGeojsonChanged().features[this.index], this.changesetId, this.index)\r\n                        this.featuresChanges = this.dataService.getGeojsonChanged().features;\r\n                    },\r\n                    error => {\r\n                        let featuresWithError = this.dataService.getGeojsonChanged().features[this.index];\r\n                        featuresWithError['error'] = error\r\n                        this.dataService.updateFeatureToGeojsonChanged(featuresWithError)\r\n\r\n                        this.featuresChanges = this.dataService.getGeojsonChanged().features;\r\n                        this.index++;\r\n                        this.pushFeatureToOsm(this.dataService.getGeojsonChanged().features[this.index], this.changesetId, this.index)\r\n\r\n                    });\r\n            }\r\n\r\n            else if (featureChanged.properties.changeType === 'Update') {\r\n                this.osmApi.apiOsmUpdateOsmElement(featureChanged, CS)\r\n                    .subscribe(id => {\r\n                        let newFeature = {};\r\n                        newFeature = featureChanged;\r\n                        newFeature['properties']['meta']['version']++;\r\n                        newFeature['properties']['meta']['user'] = this.osmApi.getUserInfo().user;\r\n                        newFeature['properties']['meta']['uid'] = this.osmApi.getUserInfo().uid;\r\n                        newFeature['properties']['meta']['timestamp'] = new Date().toISOString();\r\n                        delete newFeature['properties']['changeType'];\r\n                        delete newFeature['properties']['originalData'];\r\n\r\n\r\n                        newFeature = this.mapService.getIconStyle(newFeature); // style\r\n                        this.summary.Total--;\r\n                        this.summary.Update--;\r\n\r\n                        //this.dataService.deleteFeatureFromGeojson(featureChanged);\r\n                        this.dataService.deleteFeatureFromGeojsonChanged(featureChanged)\r\n                        this.dataService.addFeatureToGeojson(newFeature);\r\n\r\n                        this.featuresChanges = this.dataService.getGeojsonChanged().features;\r\n                        this.pushFeatureToOsm(this.dataService.getGeojsonChanged().features[this.index], this.changesetId, this.index)\r\n\r\n\r\n                    },\r\n                    error => {\r\n                        let featuresWithError = this.dataService.getGeojsonChanged().features[this.index];\r\n                        featuresWithError['error'] = error\r\n                        this.dataService.updateFeatureToGeojsonChanged(featuresWithError)\r\n\r\n                        this.index++;\r\n                        this.featuresChanges = this.dataService.getGeojsonChanged().features;\r\n                        this.pushFeatureToOsm(this.dataService.getGeojsonChanged().features[this.index], this.changesetId, this.index)\r\n\r\n                    });\r\n            }\r\n\r\n            else if (featureChanged.properties.changeType === 'Delete') {\r\n                this.osmApi.apiOsmDeleteOsmElement(featureChanged, CS)\r\n                    .subscribe(id => {\r\n                        this.summary.Total--;\r\n                        this.summary.Delete--;\r\n\r\n                        //this.dataService.deleteFeatureFromGeojson(featureChanged);\r\n                        this.dataService.deleteFeatureFromGeojsonChanged(featureChanged)\r\n                        this.featuresChanges = this.dataService.getGeojsonChanged().features;\r\n                        this.pushFeatureToOsm(this.dataService.getGeojsonChanged().features[this.index], this.changesetId, this.index)\r\n\r\n                    },\r\n                    error => {\r\n\r\n                        let featuresWithError = this.dataService.getGeojsonChanged().features[this.index];\r\n                        featuresWithError['error'] = error\r\n                        this.dataService.updateFeatureToGeojsonChanged(featuresWithError)\r\n\r\n                        this.index++;\r\n                        this.featuresChanges = this.dataService.getGeojsonChanged().features;\r\n                        this.pushFeatureToOsm(this.dataService.getGeojsonChanged().features[this.index], this.changesetId, this.index)\r\n\r\n                    });\r\n            }\r\n\r\n        }\r\n        else {\r\n            this.isPushing = false;\r\n            this.summary = this.getSummary();\r\n            this.mapService.eventMarkerReDraw.emit(this.dataService.getGeojson());\r\n            this.mapService.eventMarkerChangedReDraw.emit(this.dataService.getGeojsonChanged());\r\n            // this.mapService.eventMarkerChangedReDraw.emit(this.dataService.getMergedGeojsonGeojsonChanged());\r\n            this.featuresChanges = this.dataService.getGeojsonChanged().features;\r\n            if (this.dataService.getGeojsonChanged().features.length === 0) { // Y'a plus d'éléments à pusher\r\n                this.navCtrl.popToRoot();\r\n            }\r\n        }\r\n    }\r\n\r\n    pushDataToOsm(commentChangeset) {\r\n        this.isPushing = true;\r\n        //let featuresChanged = this.dataService.getGeojsonChanged().features;\r\n        this.osmApi.getValidChangset(commentChangeset).subscribe(CS => {\r\n            this.index = 0\r\n            this.changesetId = CS;\r\n            this.pushFeatureToOsm(this.dataService.getGeojsonChanged().features[this.index], this.changesetId, this.index)\r\n        });\r\n    }\r\n\r\n    cancelAllFeatures() { // roolBack\r\n        let featuresChanged = this.dataService.getGeojsonChanged().features;\r\n        for (let i = 0; i < featuresChanged.length; i++) {\r\n            this.dataService.cancelFeatureChange(featuresChanged[i])\r\n        }\r\n        this.summary = this.getSummary();\r\n        this.featuresChanges = this.dataService.getGeojsonChanged().features;\r\n            setTimeout(() => {\r\n              this.mapService.eventMarkerReDraw.emit(this.dataService.getGeojson());\r\n              this.mapService.eventMarkerChangedReDraw.emit(this.dataService.getGeojsonChanged());\r\n              this.navCtrl.popToRoot();\r\n            }, 100);\r\n    }\r\n\r\n    centerToElement(pointCoordinates){\r\n        if (this.mapService.map.getZoom() < 18.5)\r\n            this.mapService.map.setZoom(18.5);\r\n        this.mapService.map.setCenter(pointCoordinates);\r\n        this.dismiss();\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.summary = this.getSummary();\r\n        this.index = 0\r\n    }\r\n\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pushDataToOsm/pushDataToOsm.ts","import { Component } from '@angular/core';\n\nimport { Platform, ViewController } from 'ionic-angular';\n\n\nimport { ConfigService } from  '../../services/config.service';\n\n@Component({\n  selector: 'page-about',\n  templateUrl: 'about.html'\n})\nexport class AboutPage {\n\n\n\n  constructor( public configService: ConfigService, public platform: Platform, public viewCtrl: ViewController) {\n\n        this.platform.registerBackButtonAction(e => {\n      this.dismiss();\n    });\n\n  }\n\n    dismiss(data = null) {\n    this.viewCtrl.dismiss(data);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/about/about.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 154;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 154\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 197;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 197\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { OsmApiService } from '../../services/osmApi.service';\r\n\r\n\r\n@Component({\r\n    selector: 'login',\r\n    templateUrl: './login.html'\r\n})\r\nexport class LoginPage {\r\n     username: string;\r\n     password: string;\r\n     errorLogin;\r\n\r\n     constructor(public osmApi: OsmApiService, public navCtrl: NavController) {\r\n         this.username = this.osmApi.user_info.user;\r\n     }\r\n\r\n     login() {\r\n        this.osmApi.getUserDetail(this.username, this.password).subscribe(res=>{\r\n                this.navCtrl.pop();\r\n         },(error =>{\r\n             this.errorLogin = error;\r\n         })\r\n         )\r\n     }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\nimport { NavController, Platform, ViewController } from 'ionic-angular';\nimport { ConfigService } from '../../services/config.service'\nimport { MapService } from '../../services/map.service'\nimport { OsmApiService } from '../../services/osmApi.service';\n\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class SettingsPage {\n\n\n  constructor(public navCtrl: NavController,\n    public configService: ConfigService,\n    public mapService: MapService,\n    public platform: Platform,\n    public viewCtrl: ViewController,\n    public osmApi: OsmApiService) {\n\n    this.platform.registerBackButtonAction(e => {\n      this.dismiss();\n    });\n\n  }\n\n  dismiss(data = null) {\n    this.viewCtrl.dismiss(data);\n  }\n\n  mapMarginBufferChange(e) {\n    this.configService.setMapMarginBuffer(e.value);\n  }\n\n  lockMapHeadingChange(e) {\n    this.configService.setLockMapHeading(e.checked);\n  }\n\n  followPositionChange(e) {\n    this.configService.setFollowPosition(e.checked);\n  }\n\n\n  mapIsPichedChange(e) {\n    this.configService.setMapIsPiched(e.checked);\n    this.mapService.setPitch(e.checked);\n  }\n\n  defaultPrimarykeyWindowsChange(e) {\n    this.configService.setDefaultPrimarykeyWindows(e);\n  }\n\n  delegateDataConversionChange(e) {\n    this.configService.setDelegateDataConversion(e.checked);\n  }\n\n  isDelayedChange(e){\n    this.configService.setIsDelayed(e.checked);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component } from '@angular/core';\r\nimport { ModalController, Platform, NavParams, ViewController, LoadingController, ToastController, AlertController } from 'ionic-angular';\r\nimport { OsmApiService } from '../../services/osmApi.service';\r\nimport { MapService } from '../../services/map.service';\r\nimport { DataService } from '../../services/data.service';\r\nimport { ConfigService } from '../../services/config.service';\r\nimport { AlertService } from '../../services/alert.service';\r\n\r\nimport { TagsService } from '../../services/tags.service';\r\n\r\n\r\nimport { ModalPrimaryTag } from './modal.primaryTag/modal.primaryTag';\r\nimport { ModalSelectList } from './modalSelectList/modalSelectList';\r\n\r\ndeclare var _;\r\n\r\n@Component({\r\n  selector: 'modal',\r\n  templateUrl: 'modal.html'\r\n})\r\nexport class ModalsContentPage {\r\n\r\n  tags = []; // main data\r\n  originalTags = [];\r\n  feature;\r\n  origineData:string;\r\n  typeFiche;\r\n  displayCode = false;\r\n  mode;\r\n  configOfPrimaryKey = { presets: [] };\r\n  currentPresets = {};\r\n  primaryKey = { key: '', value: '', lbl: '' };\r\n  customValue = '';\r\n  // primaryKeys = [];\r\n  newTag = { key: '', value: '' };\r\n  allTags;\r\n  newPosition;\r\n  displayAddTag = false;\r\n\r\n  constructor(\r\n    public platform: Platform,\r\n    public params: NavParams,\r\n    public viewCtrl: ViewController,\r\n    public loadingCtrl: LoadingController,\r\n    public osmApi: OsmApiService,\r\n    public tagsService: TagsService,\r\n    public modalCtrl: ModalController,\r\n    public mapService: MapService,\r\n    public dataService: DataService,\r\n    public configService: ConfigService,\r\n    public alertService: AlertService,\r\n    public toastCtrl: ToastController,\r\n    private alertCtrl: AlertController\r\n\r\n  ) {\r\n\r\n    this.newPosition = params.data.newPosition;\r\n\r\n    this.feature = JSON.parse(JSON.stringify(params.data.data));\r\n    this.mode = params.data.type; // Read, Create, Update\r\n    this.origineData = params.data.origineData;\r\n\r\n    this.typeFiche = 'Loading'; // Edit, Read, Loading\r\n\r\n    // converti les tags (object of objects) en array (d'objets) ([{key: key, value: v}])\r\n    for (let tag in this.feature.properties.tags) {\r\n      this.tags.push({ key: tag, value: this.feature.properties.tags[tag] });\r\n    }\r\n    this.originalTags = JSON.parse(JSON.stringify(this.tags));\r\n\r\n    // backButton\r\n    this.platform.registerBackButtonAction(e => {\r\n      this.dismiss();\r\n    });\r\n  }\r\n\r\n\r\n\r\n  ngOnInit() { // override\r\n    this.initComponent();\r\n  }\r\n\r\n  presentConfirm() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Vraiment?',\r\n      message: 'Supprimer cet élément?',\r\n      buttons: [\r\n        {\r\n          text: 'Annuler',\r\n          role: 'cancel',\r\n          handler: () => {\r\n\r\n          }\r\n        },\r\n        {\r\n          text: 'Confirmer',\r\n          handler: () => {\r\n            this.deleteOsmElement()\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n\r\n  getPrimaryKeyOfTags() {\r\n    let listOfPrimaryKey = this.tagsService.getListOfPrimaryKey();\r\n    for (let i = 0; i < this.tags.length; i++) {\r\n      if (listOfPrimaryKey.indexOf(this.tags[i].key) !== -1)\r\n        return JSON.parse(JSON.stringify(this.tags))[i];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getConfigOfPrimarykey() {\r\n    let ind = _.findIndex(this.allTags[this.primaryKey.key].values, { 'key': this.primaryKey.value });\r\n    return this.allTags[this.primaryKey.key].values[ind];\r\n  }\r\n\r\n  clearNullTags() {\r\n    // supprimer les valeurs vide de this.tags (changement de type)\r\n    for (let i = 0; i < this.tags.length; i++) {\r\n\r\n      if (this.tags[i].value === '' || !this.tags[i].value) {\r\n\r\n        this.tags.splice(i, 1);\r\n        i--;\r\n      };\r\n    }\r\n  }\r\n  initComponent() {\r\n    // supprimer les valeurs vide de this.tags (changement de type)\r\n    this.clearNullTags();\r\n    if (_.findIndex(this.tags, { key: 'name' }) === -1) // on ajoute un nom vide si il n'existe pas\r\n      this.tags.push({ key: 'name', value: '' });\r\n\r\n    this.tagsService.getAllTags().subscribe(allTags => {\r\n      this.allTags = allTags;\r\n      this.primaryKey = this.getPrimaryKeyOfTags();\r\n\r\n      this.configOfPrimaryKey = this.getConfigOfPrimarykey();\r\n      this.typeFiche = (this.mode === 'Update' || this.mode === 'Create') ? 'Edit' : 'Read'; // Edit, Read, Loading\r\n\r\n      if (this.configOfPrimaryKey) {\r\n        if (this.configOfPrimaryKey.presets.length > 0) {\r\n          // on ajoute les presets manquant aux données 'tags' (chaine vide); + ajout 'name' si manquant\r\n          for (let i = 0; i < this.configOfPrimaryKey.presets.length; i++) {\r\n            if (_.findIndex(this.tags, { key: this.configOfPrimaryKey.presets[i] }) === -1)\r\n              this.tags.push({ key: this.configOfPrimaryKey.presets[i], value: '' });\r\n          }\r\n          this.tagsService.getPresets(this.configOfPrimaryKey.presets).subscribe(presets => {\r\n            this.currentPresets = presets;\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  dataIsChanged() {\r\n    let tagsNotNull = [];\r\n    for (let i = 0; i < this.tags.length; i++) {\r\n      if (this.tags[i].value)\r\n        tagsNotNull.push(this.tags[i]);\r\n    }\r\n    if (_.isEqual(tagsNotNull, this.originalTags)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  updateMode() {\r\n    this.mode = 'Update';\r\n    this.typeFiche = 'Edit';\r\n  }\r\n\r\n  toogleCode() { // affiche les tags originaux\r\n    this.displayCode = (this.displayCode) ? false : true;\r\n  }\r\n\r\n  addTag() {\r\n    // controler que la clé n'existe pas\r\n    if (this.newTag.key != '' && this.newTag.value !== '') {\r\n      this.tags.push(this.newTag);\r\n      this.newTag = { key: '', value: '' };\r\n      this.displayAddTag = false;\r\n    }\r\n  }\r\n  deleteTag(tag) {\r\n    let idx = _.findIndex(this.tags, { key: tag.key });\r\n    if (idx !== -1) {\r\n      this.tags.splice(idx, 1);\r\n    }\r\n  }\r\n\r\n  toLowerCase(text: string) {\r\n    return text.toLowerCase();\r\n  }\r\n\r\n  // renvoie l'élément du tableau correspondant \r\n  findElement(array, kv) { // {'user': 'fred'}\r\n    let idx = _.findIndex(array, kv);\r\n    if (idx !== -1) {\r\n      return array[idx];\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n  dismiss(data = null) {\r\n    this.viewCtrl.dismiss(data);\r\n  }\r\n\r\n  createOsmElement() {\r\n    this.typeFiche = 'Loading';\r\n    this.tagsService.setLastTagAdded(this.primaryKey);\r\n\r\n    this.pushTagsToFeature(); // on pousse les tags dans la feature\r\n    if (this.configService.getIsDelayed()) {\r\n        this.osmApi.createOsmNode(this.feature).subscribe(data => {\r\n          this.dismiss({redraw: true});\r\n        })\r\n     \r\n\r\n    }\r\n\r\n    else { //liveMode // on envoie le point sur le serveur OSM\r\n\r\n      this.osmApi.getValidChangset(this.osmApi.getChangesetComment()).subscribe(CS => {\r\n\r\n        this.osmApi.apiOsmCreateNode(this.feature, CS)\r\n          .subscribe(data => {\r\n            this.feature['id'] = 'node/' + data;\r\n            this.feature.properties.id = data;\r\n            this.feature.properties.meta = {};\r\n            this.feature.properties.meta['version'] = 1;\r\n            this.feature.properties.meta['user'] = this.osmApi.getUserInfo().user;\r\n            this.feature.properties.meta['uid'] = this.osmApi.getUserInfo().uid;\r\n            this.feature.properties.meta['timestamp'] = new Date().toISOString();\r\n            this.feature = this.mapService.getIconStyle(this.feature); // style\r\n\r\n            this.dataService.addFeatureToGeojson(this.feature);\r\n            this.dismiss({redraw: true});\r\n\r\n          },\r\n          error => {\r\n            this.typeFiche = 'Edit';\r\n            this.presentToast(JSON.stringify(error));\r\n          });\r\n      },\r\n        error => {\r\n          this.typeFiche = 'Edit';\r\n          this.presentToast(JSON.stringify(error));\r\n        });\r\n    }\r\n  }\r\n\r\n  updateOsmElement() {\r\n    this.typeFiche = 'Loading';\r\n    this.pushTagsToFeature(); // on pousse les tags dans la feature\r\n\r\n    if (this.configService.getIsDelayed()) {\r\n      this.osmApi.updateOsmElement(this.feature, this.origineData).subscribe(data => {\r\n        this.dismiss({redraw: true});\r\n      })\r\n    }\r\n\r\n    else {\r\n      this.osmApi.getValidChangset(this.osmApi.getChangesetComment()).subscribe(CS => {\r\n        this.osmApi.apiOsmUpdateOsmElement(this.feature, CS)\r\n          .subscribe(data => {\r\n            this.feature.properties.meta.version++;\r\n            this.feature.properties.meta['user'] = this.osmApi.getUserInfo().user;\r\n            this.feature.properties.meta['uid'] = this.osmApi.getUserInfo().uid;\r\n            this.feature.properties.meta['timestamp'] = new Date().toISOString();\r\n            this.feature = this.mapService.getIconStyle(this.feature); // création du style\r\n            this.dataService.updateFeatureToGeojson(this.feature);\r\n            this.dismiss({redraw: true});\r\n          },\r\n          er => {\r\n            this.typeFiche = 'Edit';\r\n            this.presentToast(er.statusText + ' : ' + er.text());\r\n          });\r\n\r\n      },\r\n        error => {\r\n          this.typeFiche = 'Edit';\r\n          this.presentToast(error);\r\n        });\r\n    }\r\n\r\n  }\r\n\r\n  deleteOsmElement() {\r\n    this.typeFiche = 'Loading';\r\n\r\n    if (this.configService.getIsDelayed()) {\r\n      this.osmApi.deleteOsmElement(this.feature).subscribe(data => {\r\n        this.dismiss({redraw: true});\r\n      })\r\n    }\r\n    else {\r\n      this.osmApi.getValidChangset(this.osmApi.getChangesetComment()).subscribe(CS => {\r\n        this.osmApi.apiOsmDeleteOsmElement(this.feature, CS)\r\n          .subscribe(data => {\r\n            this.dataService.deleteFeatureFromGeojson(this.feature);\r\n           // this.mapService.eventMarkerReDraw.emit(this.dataService.getMergedGeojsonGeojsonChanged());\r\n           this.dismiss({redraw: true});\r\n  \r\n          },\r\n          error => {\r\n            this.typeFiche = 'Edit';\r\n            this.presentToast(error.statusText + ' : ' + error.text());\r\n          });\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  pushTagsToFeature() {\r\n    let tagObjects = {};\r\n    for (let i = 0; i < this.tags.length; i++) {\r\n      tagObjects[this.tags[i].key] = this.tags[i].value;\r\n    }\r\n    this.feature.properties.tags = tagObjects;\r\n  }\r\n\r\n  moveOsmElement() {\r\n    this.pushTagsToFeature();\r\n    // on ferme la modal\r\n    this.dismiss({ type: 'Move', 'geojson': this.feature, mode: this.mode });\r\n\r\n    // on emet l'evenement \r\n  }\r\n  openPrimaryTagModal() {\r\n\r\n    let data = { geojson: this.feature, configOfPrimaryKey: this.configOfPrimaryKey, primaryKey: this.primaryKey, tags: this.tags };\r\n    let modal = this.modalCtrl.create(ModalPrimaryTag, data);\r\n\r\n    // onDidDismiss => modifier tags Key\r\n    modal.onDidDismiss(data => {\r\n      if (data) {\r\n        // on trouve l'index de l'ancien type pour le remplacer par le nouveau;\r\n        let idx = _.findIndex(this.tags, { key: this.primaryKey.key, value: this.primaryKey.value });\r\n        this.tags[idx] = JSON.parse(JSON.stringify(data));\r\n        this.primaryKey = JSON.parse(JSON.stringify(data));\r\n        this.initComponent();\r\n      }\r\n    });\r\n    modal.present();\r\n  }\r\n\r\n  openModalList(data) {\r\n    let modal = this.modalCtrl.create(ModalSelectList, data);\r\n\r\n    modal.onDidDismiss(data => {\r\n      if (data) {\r\n        let idx = _.findIndex(this.tags, { key: data.key });\r\n        this.tags[idx] = JSON.parse(JSON.stringify(data));\r\n      }\r\n    });\r\n\r\n    modal.present();\r\n  };\r\n\r\n  cancelChange() {\r\n    this.dataService.cancelFeatureChange(this.feature);\r\n   // this.mapService.eventMarkerReDraw.emit(this.dataService.getMergedGeojsonGeojsonChanged());\r\n     this.dismiss({redraw: true});\r\n  }\r\n  presentToast(message) {\r\n    let toast = this.toastCtrl.create({\r\n      message: message,\r\n      duration: 5000,\r\n      showCloseButton: true,\r\n      closeButtonText: 'X'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/modal.ts","import { Component } from '@angular/core';\r\nimport { ModalController, Platform, NavParams, ViewController } from 'ionic-angular';\r\nimport { TagsService } from '../../../services/tags.service';\r\nimport { ConfigService } from '../../../services/config.service';\r\n\r\n\r\n\r\n\r\n@Component({\r\n    templateUrl: 'modal.primaryTag.html',\r\n    selector: 'modal-primary-tag',\r\n})\r\nexport class ModalPrimaryTag {\r\n    _primaryKey;\r\n    selectedKey: string;\r\n    tagsOfselectedKey;\r\n    loading = true;\r\n    primaryKeys = [];\r\n    allTags;\r\n    searchText = '';\r\n    currentListOfTags = [];\r\n    typeFiche = 'list';\r\n    customValue = '';\r\n\r\n\r\n    constructor(\r\n        public params: NavParams,\r\n        public viewCtrl: ViewController,\r\n        public modalCtrl: ModalController,\r\n        public tagsService: TagsService,\r\n        public platform: Platform,\r\n        public configService: ConfigService\r\n\r\n\r\n    ) {\r\n        this._primaryKey = this.params.data.primaryKey;\r\n\r\n        // backButton\r\n        this.platform.registerBackButtonAction(e => {\r\n            this.dismiss();\r\n        });\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.tagsService.getAllTags().subscribe(allTags => {\r\n            this.allTags = allTags;\r\n\r\n            for (let key in allTags) {\r\n                this.primaryKeys.push({ lbl: allTags[key].lbl, key: key });\r\n            }\r\n            if (this.configService.getDefaultPrimarykeyWindows() == 'allTags') {\r\n\r\n                this.selectedKey = 'full'\r\n            } else if (this.configService.getDefaultPrimarykeyWindows() == 'bookmarks') {\r\n\r\n                this.selectedKey = 'bookmarks'\r\n            } else {\r\n                this.selectedKey = this._primaryKey.key;\r\n            }\r\n            if (this.selectedKey == 'full') {\r\n                this.currentListOfTags = this.tagsService.getFullTags();\r\n            } else if (this.selectedKey == 'bookmarks') {\r\n                this.currentListOfTags = this.tagsService.getBookMarks();\r\n            } else {\r\n                this.currentListOfTags = allTags[this.selectedKey].values;\r\n            }\r\n            this.loading = false;\r\n        });\r\n    }\r\n\r\n    dismiss(data = null) {\r\n        this.viewCtrl.dismiss(data);\r\n    }\r\n\r\n    summit(typeFiche) {\r\n        if (typeFiche == 'custom') {\r\n            this._primaryKey = { key: this.selectedKey, value: this.customValue }\r\n        }\r\n        this.dismiss(this._primaryKey);\r\n    }\r\n    cancel() {\r\n        this.dismiss();\r\n    }\r\n\r\n    selected(e) {\r\n        this._primaryKey = { key: e.primaryKey, value: e.key };\r\n        this.summit(this.typeFiche)\r\n    }\r\n\r\n    addRemoveToBookmarks(tag) {\r\n        this.tagsService.addRemoveBookMark(tag);\r\n    }\r\n    isBookMarked(tag) {\r\n        let bM: any = this.tagsService.getBookMarks();\r\n        for (let i = 0; i < bM.length; i++) {\r\n            if (bM[i].primaryKey == tag.primaryKey && bM[i].key == tag.key) {\r\n                return true\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    updateSelectedValue(key) {\r\n        if (key == 'full') {\r\n            this.currentListOfTags = this.tagsService.getFullTags();\r\n        } else if (key == \"bookmarks\") {\r\n            this.currentListOfTags = this.tagsService.getBookMarks();\r\n        }\r\n        else {\r\n            this.currentListOfTags = this.allTags[key].values;\r\n        }\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/modal.primaryTag/modal.primaryTag.ts","import { Component } from '@angular/core';\r\nimport { ModalController, NavParams, ViewController, Platform } from 'ionic-angular';\r\n\r\n\r\n@Component({\r\n    templateUrl: 'modalSelectList.html',\r\n     selector: 'modal-select-list',\r\n})\r\nexport class ModalSelectList {\r\n    data;\r\n    newTag;\r\n    searchText = '';\r\n    constructor(\r\n        public params: NavParams,\r\n        public viewCtrl: ViewController,\r\n        public modalCtrl: ModalController,\r\n        public platform: Platform\r\n\r\n\r\n    ) {\r\n        this.data = params.data;\r\n        this.platform.registerBackButtonAction(e => {\r\n            this.dismiss();\r\n        });\r\n    }\r\n\r\n    dismiss(data = null) {\r\n        this.viewCtrl.dismiss(data);\r\n    }\r\n\r\n    selected(e) {\r\n        if (e) {\r\n            this.dismiss(e);\r\n        }\r\n\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/modalSelectList/modalSelectList.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { AppVersion } from '@ionic-native/app-version';\r\n\r\n@Injectable()\r\nexport class ConfigService {\r\n      constructor(public localStorage: Storage, private _appVersion: AppVersion) { \r\n    \r\n           this.loadConfig();\r\n      }\r\n\r\n    \r\n    eventConfigIsLoaded = new EventEmitter();\r\n\r\n    config = {\r\n        mapMarginBuffer: 50,\r\n        mapIsPiched: false,\r\n        lockMapHeading: true,\r\n        followPosition: true,\r\n        defaultPrimarykeyWindows: 'allTags',\r\n        delegateDataConversion: false,\r\n        isDelayed: true\r\n    };\r\n    appVersion = { appName: 'Osm Go!', appVersionCode: 12, appVersionNumber: '0.0.0' }\r\n\r\n\r\n\r\n    loadConfig() {\r\n        this.localStorage.get('config').then(d => {\r\n            if (d) {\r\n                for (let key in d) {\r\n                    this.config[key] = d[key];\r\n                }\r\n            } else {\r\n                this.localStorage.set('config', this.config);\r\n            }\r\n            this.eventConfigIsLoaded.emit(this.config);\r\n        });\r\n    }\r\n\r\n    loadAppVersion() {\r\n\r\n        this._appVersion.getAppName().then(e => {\r\n            this.appVersion.appName = e;\r\n        });\r\n        this._appVersion.getVersionCode().then(e => {\r\n            this.appVersion.appVersionCode = e;\r\n        });\r\n        this._appVersion.getVersionNumber().then(e => {\r\n            this.appVersion.appVersionNumber = e;\r\n        });\r\n\r\n\r\n    }\r\n\r\n    getAppVersion() {\r\n        return this.appVersion;\r\n    }\r\n\r\n\r\n    setMapMarginBuffer(buffer: number) {\r\n        this.config.mapMarginBuffer = buffer;\r\n        this.localStorage.set('config', this.config);\r\n    }\r\n    getMapMarginBuffer() {\r\n        return this.config.mapMarginBuffer;\r\n    }\r\n\r\n\r\n\r\n    setMapIsPiched(pitched: boolean) {\r\n        this.config.mapIsPiched = pitched;\r\n        this.localStorage.set('config', this.config);\r\n    }\r\n    getMapIsPiched() {\r\n        return this.config.mapIsPiched;\r\n    }\r\n\r\n\r\n    setLockMapHeading(isLockMapHeading: boolean) {\r\n        this.config.lockMapHeading = isLockMapHeading;\r\n        this.localStorage.set('config', this.config);\r\n    }\r\n    getLockMapHeading() {\r\n        return this.config.lockMapHeading;\r\n    }\r\n\r\n\r\n    setFollowPosition(isFollowingPosition: boolean) {\r\n        this.config.followPosition = isFollowingPosition;\r\n        this.localStorage.set('config', this.config);\r\n    }\r\n    getFollowPosition() {\r\n        return this.config.followPosition;\r\n    }\r\n\r\n    setDefaultPrimarykeyWindows(defaultPrimarykeyWindows: string) {\r\n        this.config.defaultPrimarykeyWindows = defaultPrimarykeyWindows;\r\n        this.localStorage.set('config', this.config);\r\n    }\r\n\r\n    getDefaultPrimarykeyWindows() {\r\n        return this.config.defaultPrimarykeyWindows;\r\n    }\r\n\r\n    setDelegateDataConversion(delegateDataConversion: boolean) {\r\n        this.config.delegateDataConversion = delegateDataConversion;\r\n        this.localStorage.set('config', this.config);\r\n    }\r\n\r\n    getDelegateDataConversion() {\r\n        return this.config.delegateDataConversion;\r\n    }\r\n\r\n    setIsDelayed(isDelayed: boolean) {\r\n        this.config.isDelayed = isDelayed;\r\n        this.localStorage.set('config', this.config);\r\n    }\r\n\r\n    getIsDelayed() {\r\n        return this.config.isDelayed;\r\n    }\r\n\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/config.service.ts","import { NgModule,ErrorHandler } from '@angular/core';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { HttpModule} from '@angular/http';\n\n\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { MyApp } from './app.component';\nimport { IonicStorageModule } from '@ionic/storage';\n\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { DeviceOrientation, DeviceOrientationCompassHeading } from '@ionic-native/device-orientation';\nimport { AppVersion } from '@ionic-native/app-version';\nimport { Diagnostic } from '@ionic-native/diagnostic';\n\nimport { Insomnia } from '@ionic-native/insomnia';\nimport { Device } from '@ionic-native/device';\n\n\nimport { MapService } from '../services/map.service';\nimport { OsmApiService } from '../services/osmApi.service';\nimport { TagsService } from '../services/tags.service';\nimport { DataService } from '../services/data.service';\nimport { RouterService } from '../services/router.service';\nimport { AlertService } from '../services/alert.service';\nimport { LocationService } from '../services/location.service';\nimport { ConfigService } from '../services/config.service';\n\nimport { MainPage } from '../pages/main/main';\nimport { ModalsContentPage } from '../pages/modal/modal';\nimport { ModalPrimaryTag } from '../pages/modal/modal.primaryTag/modal.primaryTag';\nimport { ModalSelectList } from '../pages/modal/modalSelectList/modalSelectList';\n\nimport { ReadPrimaryKey } from '../pages/modal/components/READ_PrimaryKey.component';\nimport { EditPrimaryKey } from '../pages/modal/components/EDIT_PrimaryKey.component';\nimport { ReadPresets } from '../pages/modal/components/READ_Presets.component';\nimport { EditPresets } from '../pages/modal/components/EDIT_Presets.component';\nimport { ReadOtherTag } from '../pages/modal/components/READ_OtherTag.component';\nimport { EditOtherTag } from '../pages/modal/components/EDIT_OtherTag.component'\nimport { ReadMeta } from '../pages/modal/components/READ_Meta.component';\n\n\nimport { MenuPage } from '../pages/menu/menu';\nimport { AboutPage } from '../pages/about/about';\nimport { LoginPage } from '../pages/login/login';\nimport { SettingsPage } from '../pages/settings/settings';\n\nimport { PushDataToOsmPage } from '../pages/pushDataToOsm/pushDataToOsm';\n\n\n\n\nimport { KeysPipe } from '../pipes/keys.pipe';\nimport { FilterExcludeKeysPipe } from '../pipes/filterExcludeKeys.pipe';\nimport { FilterIncludeKeysPipe } from '../pipes/filterIncludeKeys.pipe';\nimport { FilterNullValuePipe } from '../pipes/filterNullValue.pipe';\nimport { ToLowercasePipe } from '../pipes/toLowercase.pipe';\nimport { FilterByContentPipe } from '../pipes/filterByContent.pipe';\n\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    SettingsPage,\n    MainPage,\n    ModalsContentPage,\n    ModalPrimaryTag,\n    ModalSelectList,\n    MenuPage,\n    AboutPage,\n    PushDataToOsmPage,\n    LoginPage,\n    \n    ReadPrimaryKey,\n    ReadPresets,\n    ReadOtherTag,\n    ReadMeta,\n    EditPrimaryKey,\n    EditPresets,\n    EditOtherTag,\n\n    KeysPipe,\n    FilterExcludeKeysPipe,\n    FilterIncludeKeysPipe,\n    FilterNullValuePipe,\n    ToLowercasePipe,\n    FilterByContentPipe\n  ],\n  imports: [\n      HttpModule,\n      BrowserModule,\n      IonicModule.forRoot(MyApp),\n     IonicStorageModule.forRoot()\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    MainPage,\n    SettingsPage,\n    ModalsContentPage,\n    ModalPrimaryTag,\n    ModalSelectList,\n    MenuPage,\n    AboutPage,\n    PushDataToOsmPage,\n    LoginPage\n    \n  ],\n  providers: [ConfigService,OsmApiService,MapService,TagsService,DataService, \n  RouterService, AlertService, LocationService,\n   SplashScreen, StatusBar, Geolocation, DeviceOrientation, Diagnostic, AppVersion, Insomnia, Device,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { Insomnia } from '@ionic-native/insomnia';\nimport { Device } from '@ionic-native/device';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { LocationService } from '../services/location.service'\nimport { ConfigService } from '../services/config.service'\n\nimport { MainPage } from '../pages/main/main';\n\n\n@Component({\n  template: `\n  <ion-nav [root]=\"rootPage\"></ion-nav>`\n})\nexport class MyApp {\n  rootPage = MainPage;\n\n\n\n\n  constructor(platform: Platform, private splashScreen: SplashScreen,\n    private statusBar: StatusBar, private locationService: LocationService, private device: Device,  private insomnia: Insomnia,\n    public configService: ConfigService) {\n    this.splashScreen.show();\n\n    platform.ready().then(() => {\n      this.splashScreen.hide();\n      this.statusBar.styleDefault();\n\n\n      if (typeof this.device.platform == 'string') {\n        this.configService.loadAppVersion();\n      }\n\n      this.locationService.eventPlatformReady.emit((typeof this.device.platform == 'string') ? false : true); // object => ionic serve\n\n      if (this.device.platform == 'Android') {\n        this.insomnia.keepAwake();\n      }\n\n\n\n\n    });\n\n  }\n  ngAfterViewInit() {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { Http, Headers } from '@angular/http';\r\nimport { Storage } from '@ionic/storage';\r\n\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport { MapService } from './map.service';\r\nimport { TagsService } from './tags.service';\r\nimport { DataService } from './data.service'\r\nimport { AlertService } from './alert.service';\r\nimport { ConfigService } from './config.service';\r\n\r\n\r\ndeclare var osmtogeojson: any;\r\ndeclare var $: any;\r\ndeclare var turf: any;\r\n\r\n@Injectable()\r\nexport class OsmApiService {\r\n\r\n    isDevServer = false; // dev serveur\r\n    urlsOsm = {\r\n        prod: { \"api\": 'http://api.openstreetmap.org', \"overpass\": \"http://api.openstreetmap.fr/oapi/interpreter\" },\r\n        dev: { \"api\": 'http://api06.dev.openstreetmap.org', \"overpass\": \"\" }\r\n    }\r\n    urlDataServer = 'http://osmgo-data.dogeo.fr/';\r\n\r\n    \r\n \r\n    user_info = { user: '', password: '', uid: '', display_name: '', connected: false };\r\n    changeset = { id: '', last_changeset_activity: 0, created_at: 0, comment: '' };\r\n    changeSetComment = 'Sortie avec Osm Go!';\r\n\r\n    eventNewPoint = new EventEmitter();\r\n\r\n    constructor(\r\n        private http: Http,\r\n        public mapService: MapService,\r\n        public tagsService: TagsService,\r\n        public dataService: DataService,\r\n        public alertService: AlertService,\r\n        public configService: ConfigService,\r\n        private localStorage: Storage\r\n    ) {\r\n        this.localStorage.get('user_info').then(d => {\r\n            if (d && d.connected) {\r\n                this.user_info = d;\r\n            } else {\r\n                this.user_info = { user: '', password: '', uid: '', display_name: '', connected: false };\r\n            }\r\n        });\r\n\r\n        this.localStorage.get('changeset').then(d => {\r\n            if (d) {\r\n                this.changeset = d;\r\n            }\r\n            else {\r\n                this.changeset = { id: '', last_changeset_activity: 0, created_at: 0, comment: this.changeSetComment };\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    // retourne l'URL de l'API (dev ou prod)\r\n    getUrlApi() {\r\n        if (this.isDevServer) {\r\n            return this.urlsOsm.dev.api;\r\n        } else {\r\n            return this.urlsOsm.prod.api;\r\n        }\r\n    }\r\n\r\n    getChangesetComment() {\r\n        return this.changeSetComment;\r\n    };\r\n\r\n    getUserInfo() {\r\n        return this.user_info;\r\n    };\r\n\r\n    setUserInfo(_user_info) {\r\n        this.user_info = { user: _user_info.user, password: _user_info.password, uid: _user_info.uid, display_name: _user_info.display_name, connected: true };\r\n        this.localStorage.set('user_info', this.user_info);\r\n    }\r\n\r\n    resetUserInfo() {\r\n        this.user_info = { user: '', password: '', uid: '', display_name: '', connected: false };\r\n        this.localStorage.set('user_info', this.user_info);\r\n    }\r\n\r\n    // DETAIL DE L'UTILISATEUR \r\n    getUserDetail(_user, _password) {\r\n        let url = this.getUrlApi() + '/api/0.6/user/details';\r\n        let headers = new Headers();\r\n        headers.append('Authorization', 'Basic ' + btoa(_user + ':' + _password));\r\n\r\n        return this.http.get(url, { headers: headers })\r\n            .map((res) => {\r\n                let xml = new DOMParser().parseFromString(res.text(), 'text/xml');\r\n                let x_user = xml.getElementsByTagName('user')[0];\r\n                let uid = x_user.getAttribute('id');\r\n                let display_name = x_user.getAttribute('display_name');\r\n                let _userInfo = { user: _user, password: _password, uid: uid, display_name: display_name, connected: true }\r\n                this.setUserInfo(_userInfo);\r\n                return res;\r\n            })\r\n            .catch((error: any) => {\r\n                return Observable.throw(error);\r\n            });\r\n    }\r\n    // CHANGESET\r\n    // Edits can only be added to a changeset as long as it is still open; a changeset can either be closed explicitly (see your editor's documentation), or it closes itself if no edits are added to it for a period of inactivity (currently one hour). The same user can have multiple active changesets at the same time. A changeset has a maximum capacity (currently 50,000 edits) and maximum lifetime (currently 24 hours)\r\n\r\n    getChangeset() {\r\n        return this.changeset;\r\n    };\r\n\r\n    setChangeset(_id: string, _created_at, _last_changeset_activity, _comment) { // alimente changeset + localstorage\r\n        this.changeset = { id: _id, last_changeset_activity: _last_changeset_activity, created_at: _created_at, comment: _comment };  // to do => ajouter le serveur?\r\n        this.localStorage.set('changeset', this.changeset);\r\n    };\r\n\r\n    updateChangesetLastActivity() {\r\n        let time = Date.now();\r\n        this.changeset.last_changeset_activity = time;\r\n        this.localStorage.set('last_changeset_activity', time.toString());\r\n    }\r\n\r\n    /*id_CS = id du changeset*/\r\n    getChangeSetStatus(id_CS) {\r\n        let url = this.getUrlApi() + '/api/0.6/changeset/' + id_CS;\r\n\r\n        return this.http.get(url)\r\n            .map((res) => {\r\n                let xml = new DOMParser().parseFromString(res.text(), 'text/xml');\r\n                let open = xml.getElementsByTagName('changeset')[0].getAttribute('open');\r\n                var user = xml.getElementsByTagName('changeset')[0].getAttribute('user');\r\n                return { open: open, user: user };\r\n            })\r\n            .catch((error: any) => Observable.throw(error.json().error || 'Impossible d\\'accédé au changeset'));\r\n    }\r\n\r\n    createOSMChangeSet(comment): Observable<any> {\r\n        var url = this.getUrlApi() + '/api/0.6/changeset/create';\r\n        var content_put = '<osm><changeset><tag k=\"created_by\" v=\"' + this.configService.getAppVersion().appName + ' ' + this.configService.getAppVersion().appVersionNumber + '\"/><tag k=\"comment\" v=\"' + comment + '\"/></changeset></osm>'; // this.getChangesetComment()\r\n        let headers = new Headers();\r\n        headers.append('Authorization', 'Basic ' + btoa(this.getUserInfo().user + ':' + this.getUserInfo().password));\r\n\r\n        return this.http.put(url, content_put, { headers: headers })\r\n            .map((res) => {\r\n                this.setChangeset(res.text(), Date.now(), Date.now(), comment);\r\n                return res.text();\r\n            })\r\n            .catch((error: any) => Observable.throw(error.json().error || 'Impossible de créer le changeset'));\r\n    }\r\n\r\n\r\n\r\n    // determine si le changset est valide, sinon on en crée un nouveau\r\n    getValidChangset(_comments): Observable<any> {\r\n        // si il n'existe pas\r\n        if (this.getChangeset().id == null || this.getChangeset().id === '') {\r\n            return this.createOSMChangeSet(_comments);\r\n        }\r\n        else if (_comments !== this.getChangeset().comment) { // un commentaire différent => nouveau ChangeSet\r\n            return this.createOSMChangeSet(_comments);\r\n        }\r\n        else if ((Date.now() - this.getChangeset().last_changeset_activity) / 1000 > 3540 || // bientot une heure sans activité \r\n            (Date.now() - this.getChangeset().last_changeset_activity) / 1000 > 86360) {    // bientot > 24h \r\n            return this.createOSMChangeSet(_comments);\r\n        } else {\r\n            return Observable.of(this.getChangeset().id).map(CS => CS);\r\n        }\r\n    }\r\n\r\n    // GEOJSON => XML osm\r\n    geojson2OsmCreate(geojson, id_changeset) {\r\n        let tags_json = geojson.properties.tags;\r\n        var lng = geojson.geometry.coordinates[0];\r\n        var lat = geojson.geometry.coordinates[1];\r\n        var node_header = '<node changeset=\"' + id_changeset + '\" lat=\"' + lat + '\" lon=\"' + lng + '\">';\r\n        var tags_xml = '';\r\n        for (var k in tags_json) {\r\n            if (k !== '' && tags_json[k] !== '') {\r\n                tags_xml += '<tag k=\"' + k.toLowerCase().trim().replace(/&/g, '&amp;').replace(/\"/g, '&quot;') + '\" v=\"' + String(tags_json[k]).trim().replace(/&/g, '&amp;').replace(/\"/g, '&quot;') + '\"/>';\r\n            }\r\n        }\r\n        var xml = '<osm>' + node_header + tags_xml + '</node></osm>';\r\n        return (xml);\r\n    }\r\n\r\n    // convert feature to xml(osm)\r\n    geojson2OsmUpdate(_feature, id_changeset) {\r\n        var tags_json = _feature.properties.tags;\r\n        var type_objet = _feature.properties.type;\r\n        var version = _feature.properties.meta.version;\r\n        var id = _feature.properties.id;\r\n\r\n        if (type_objet === 'node') { // c'est un noeud, les coords sont dans le Geojson\r\n            var lng = _feature.geometry.coordinates[0];\r\n            var lat = _feature.geometry.coordinates[1];\r\n            var node_header = '<node id=\"' + id + '\" changeset=\"' + id_changeset + '\" version=\"' + version + '\" lat=\"' + lat + '\" lon=\"' + lng + '\">';\r\n            var tags_xml = '';\r\n            for (var k in tags_json) {\r\n                if (k !== '' && tags_json[k] !== '') {\r\n                    tags_xml += '<tag k=\"' + k.toLowerCase().trim().replace(/&/g, '&amp;').replace(/\"/g, '&quot;') + '\" v=\"' + String(tags_json[k]).trim().replace(/&/g, '&amp;').replace(/\"/g, '&quot;') + '\"/>';\r\n\r\n                }\r\n            }\r\n            var xml = '<osm>' + node_header + tags_xml + '</node></osm>';\r\n            return (xml);\r\n        } else if (type_objet === 'way') {\r\n            var way_header = '<way id=\"' + id + '\" changeset=\"' + id_changeset + '\" version=\"' + version + '\">';\r\n            var tags_xml = '';\r\n            for (var k in tags_json) {\r\n                if (k !== '' && tags_json[k] !== '') {\r\n                    tags_xml += '<tag k=\"' + k.toLowerCase().trim().replace(/&/g, '&amp;').replace(/\"/g, '&quot;') + '\" v=\"' + String(tags_json[k]).trim().replace(/&/g, '&amp;').replace(/\"/g, '&quot;') + '\"/>';\r\n                }\r\n            }\r\n            var nd_ref_xml = '';\r\n            for (var i = 0; i < _feature.ndRefs.length; i++) {\r\n                nd_ref_xml += '<nd ref=\"' + _feature.ndRefs[i] + '\"/>';\r\n            }\r\n            var xml = '<osm>' + way_header + nd_ref_xml + tags_xml + '</way></osm>';\r\n            return xml;\r\n        } else if (type_objet === 'relation') {\r\n            var relation_header = '<relation id=\"' + id + '\" changeset=\"' + id_changeset + '\" version=\"' + version + '\">';\r\n            var tags_xml = '';\r\n            for (var k in tags_json) {\r\n                if (k !== '' && tags_json[k] !== '') {\r\n                    tags_xml += '<tag k=\"' + k.toLowerCase().trim().replace(/&/g, '&amp;').replace(/\"/g, '&quot;') + '\" v=\"' + String(tags_json[k]).trim().replace(/&/g, '&amp;').replace(/\"/g, '&quot;') + '\"/>';\r\n                }\r\n            }\r\n            var rel_ref_xml = '';\r\n            for (var i = 0; i < _feature.relMembers.length; i++) {\r\n                rel_ref_xml += '<member type=\"' + _feature.relMembers[i].type + '\" role=\"' + _feature.relMembers[i].role + '\" ref=\"' + _feature.relMembers[i].ref + '\"/>'\r\n            }\r\n            var xml = '<osm>' + relation_header + tags_xml + rel_ref_xml + '</relation></osm>';\r\n            return xml;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /// CREATE NODE\r\n\r\n    createOsmNode(_feature) {\r\n        let feature = JSON.parse(JSON.stringify(_feature));\r\n        let d = new Date();\r\n        let tmpId = 'tmp_' + d.getTime();\r\n        feature.id = 'node/' + tmpId;\r\n        feature.properties.id = tmpId;\r\n        feature.properties['meta'] = { timestamp: 0, version: 0, user: '' };\r\n        feature.properties.changeType = 'Create';\r\n        feature.properties.originalData = null;\r\n        this.dataService.addFeatureToGeojsonChanged(this.mapService.getIconStyle(feature));\r\n        // refresh changed only\r\n        return Observable.of(_feature);\r\n\r\n    }\r\n    apiOsmCreateNode(_feature, changesetId) {\r\n        let feature = JSON.parse(JSON.stringify(_feature));\r\n        let url = this.getUrlApi() + '/api/0.6/node/create';\r\n        let content_put = this.geojson2OsmCreate(feature, changesetId);\r\n        let headers = new Headers();\r\n        headers.append('Authorization', 'Basic ' + btoa(this.getUserInfo().user + ':' + this.getUserInfo().password));\r\n        return this.http.put(url, content_put, { headers: headers }).map(id => {\r\n            return id.text();\r\n        })\r\n            .catch((error: any) => Observable.throw(error.json().error || 'Impossible de créer l\\'élément'));;\r\n    }\r\n\r\n    // Update\r\n    updateOsmElement(_feature, origineData) {\r\n        let feature = JSON.parse(JSON.stringify(_feature));\r\n        let id = feature.id;\r\n        if (origineData === 'data_changed') {// il a déjà été modifié == if (feature.properties.changeType)\r\n            this.dataService.updateFeatureToGeojsonChanged(this.mapService.getIconStyle(feature));\r\n        }\r\n\r\n        else { //jamais été modifié, n'exite donc pas dans this.geojsonChanged mais dans le this.geojson\r\n            feature.properties.changeType = 'Update';\r\n            feature.properties.originalData = this.dataService.getFeatureById(feature.properties.id, 'data');\r\n            this.dataService.addFeatureToGeojsonChanged(this.mapService.getIconStyle(feature));\r\n            this.dataService.deleteFeatureFromGeojson(feature)\r\n        }\r\n        return Observable.of(id);\r\n    }\r\n\r\n    apiOsmUpdateOsmElement(_feature, changesetId) {\r\n        let feature = JSON.parse(JSON.stringify(_feature));\r\n        let id = feature.id;\r\n\r\n        let url = this.getUrlApi() + '/api/0.6/' + id;\r\n        let content_put = this.geojson2OsmUpdate(feature, changesetId);\r\n        let headers = new Headers();\r\n        headers.append('Authorization', 'Basic ' + btoa(this.getUserInfo().user + ':' + this.getUserInfo().password));\r\n        headers.append('Content-Type', 'text/xml');\r\n        return this.http.put(url, content_put, { headers: headers }).map(data => {\r\n            this.mapService.eventOsmElementUpdated.emit(feature);\r\n            return data.text();\r\n        })\r\n    }\r\n\r\n    // Delete\r\n    deleteOsmElement(_feature) {\r\n        let feature = JSON.parse(JSON.stringify(_feature));\r\n        let id = feature.id;\r\n\r\n        if (feature.properties.changeType) { // il a déjà été modifié\r\n            if (feature.properties.changeType === 'Create') { // il n'est pas sur le serveur, on le supprime des 2 geojson\r\n                this.dataService.deleteFeatureFromGeojsonChanged(feature);\r\n            }\r\n            else if (feature.properties.changeType === 'Update') { // on reprend les données originales \r\n                this.dataService.updateFeatureToGeojson(feature.properties.originalData);\r\n                feature.properties.changeType = 'Delete';\r\n                this.dataService.updateFeatureToGeojsonChanged(this.mapService.getIconStyle(feature));\r\n            }\r\n        }\r\n        else { //jamais été modifié, n'exite donc pas dans this.geojsonChanged\r\n            feature.properties.changeType = 'Delete';\r\n            feature.properties.originalData = this.dataService.getFeatureById(feature.properties.id, 'data');\r\n            this.dataService.addFeatureToGeojsonChanged(this.mapService.getIconStyle(feature));\r\n            this.dataService.deleteFeatureFromGeojson(feature)\r\n        }\r\n        return Observable.of(id);\r\n    }\r\n\r\n    apiOsmDeleteOsmElement(_feature, changesetId) {\r\n        let feature = JSON.parse(JSON.stringify(_feature));\r\n        let id = feature.id;\r\n        let content_delete = this.geojson2OsmUpdate(feature, changesetId);;\r\n        let url = this.getUrlApi() + '/api/0.6/' + id;\r\n        let headers = new Headers();\r\n        headers.append('Authorization', 'Basic ' + btoa(this.getUserInfo().user + ':' + this.getUserInfo().password));\r\n        return this.http.delete(url, { headers: headers, body: content_delete }).map(data => {\r\n            this.mapService.eventOsmElementDeleted.emit(feature);\r\n            return data.text();\r\n        })\r\n    }\r\n\r\n    getUrlOverpassApi(bbox: string[]) {\r\n\r\n        let OPapiBbox = bbox[1] + ',' + bbox[0] + ',' + bbox[3] + ',' + bbox[2];\r\n        let keys = this.tagsService.getListOfPrimaryKey();\r\n        let queryContent: string = '';\r\n        for (let i = 0; i < keys.length; i++) {\r\n            let key = keys[i];\r\n            queryContent = queryContent + 'node[\"' + key + '\"](' + OPapiBbox + ');';\r\n            queryContent = queryContent + 'way[\"' + key + '\"](' + OPapiBbox + ');'\r\n            queryContent = queryContent + 'relation[\"' + key + '\"](' + OPapiBbox + ');'\r\n        }\r\n        let query = '[out:xml][timeout:25];(' + queryContent + ');out meta;>;out meta;'\r\n        return query;\r\n    }\r\n\r\n\r\n    mergeNewOldData(newGeojson, oldGeojson, bbox_geojson) {\r\n        let that = this;\r\n\r\n\r\n\r\n        let workerGetStyle = new Worker(\"assets/workers/worker-getIconStyle.js\");\r\n\r\n        workerGetStyle.postMessage({\r\n            tags: that.tagsService.getTags(),\r\n            geojson: newGeojson,\r\n            listOfPrimaryKeys: that.tagsService.getListOfPrimaryKey()\r\n        });\r\n\r\n        workerGetStyle.onmessage = function (newGeojsonStyled) {\r\n            workerGetStyle.terminate()\r\n            let workerMergeData = new Worker(\"assets/workers/worker-mergeData.js\");\r\n\r\n            workerMergeData.postMessage({\r\n                newGeojson: newGeojsonStyled.data,\r\n                oldGeojson: oldGeojson, \r\n                bbox_geojson: bbox_geojson,\r\n                geojsonChanged: that.dataService.getGeojsonChanged()\r\n            });\r\n\r\n            workerMergeData.onmessage = function (mergedGeojson) {\r\n                that.dataService.setGeojson(mergedGeojson.data)\r\n\r\n                that.mapService.eventMarkerReDraw.emit(mergedGeojson.data);\r\n                that.mapService.loadingData = false;\r\n                workerMergeData.terminate();\r\n            };\r\n        }\r\n    }\r\n    setBbox(newBoboxFeature) {\r\n\r\n        let resBbox;\r\n        if (this.dataService.getGeojsonBbox().features.length == 0) {\r\n            resBbox = { \"type\": \"FeatureCollection\", \"features\": [newBoboxFeature] };\r\n            this.dataService.setGeojsonBbox(resBbox);\r\n\r\n        } else {\r\n            let oldBbox = this.dataService.getGeojsonBbox();\r\n\r\n            let oldBboxFeature = JSON.parse(JSON.stringify(oldBbox.features[0]));\r\n\r\n            let union = turf.union(newBoboxFeature, oldBboxFeature);\r\n            resBbox = { \"type\": \"FeatureCollection\", \"features\": [union] }\r\n            this.dataService.setGeojsonBbox(resBbox);\r\n        }\r\n        this.mapService.eventNewBboxPolygon.emit(resBbox);\r\n    }\r\n\r\n    getDataFromBbox(bbox: string[], useOverpassApi: boolean = false, delegateOsm2geojson: boolean = true) {\r\n        let featureBbox = turf.bboxPolygon(bbox);\r\n        for (let i = 0; i < featureBbox.geometry.coordinates[0].length; i++) {\r\n            featureBbox.geometry.coordinates[0][i][0] = parseFloat(featureBbox.geometry.coordinates[0][i][0]);\r\n            featureBbox.geometry.coordinates[0][i][1] = parseFloat(featureBbox.geometry.coordinates[0][i][1]);\r\n        }\r\n\r\n        let bboxArea = turf.area(featureBbox);\r\n        if (delegateOsm2geojson) { //On delegue la conversion au serveur\r\n\r\n            if (useOverpassApi || bboxArea > 100000) { // si la surface est > 10000m² => overpass api\r\n                let url = this.urlDataServer + '/overpassApi?' +\r\n                    'bbox=' + bbox.join(',') +\r\n                    '&keys=' + this.tagsService.getListOfPrimaryKey().join();\r\n\r\n                return this.http.get(url)\r\n                    .map((res) => {\r\n                        let geojson = res.json()\r\n                        this.setBbox(featureBbox);\r\n                        this.mergeNewOldData(geojson, this.dataService.getGeojson(), featureBbox);\r\n                    })\r\n                    .catch((error: any) => {\r\n                        return Observable.throw('Impossible de télécharger les données (Overpass délégué)')\r\n                    });\r\n\r\n            }\r\n            else {// api06\r\n                let url = this.urlDataServer + '/api06?' +\r\n                    'bbox=' + bbox.join(',') +\r\n                    '&keys=' + this.tagsService.getListOfPrimaryKey().join();\r\n                return this.http.get(url)\r\n                    .map((res) => {\r\n                        let geojson = res.json()\r\n                        this.setBbox(featureBbox);\r\n                        this.mergeNewOldData(geojson, this.dataService.getGeojson(), featureBbox);\r\n                    })\r\n                    .catch((error: any) => Observable.throw(error.json().error || 'Impossible de télécharger les données (api06)'));\r\n\r\n            }\r\n        }\r\n\r\n\r\n        else { // on ne delegue pas au serveur\r\n            if (useOverpassApi || bboxArea > 100000) { // si la surface est > 10000m² => overpass api\r\n                // let urlOverpassApi = 'http://overpass-api.de/api/interpreter';\r\n                let urlOverpassApi = 'http://api.openstreetmap.fr/oapi/interpreter';\r\n                return this.http.post(urlOverpassApi, this.getUrlOverpassApi(bbox))\r\n                    .map((res) => {\r\n                        this.setBbox(featureBbox);\r\n                        this.mergeNewOldData(this.xmlOsmToFormatedGeojson(res), this.dataService.getGeojson(), featureBbox);\r\n                    })\r\n                    .catch((error: any) => Observable.throw(error.json().error || 'Impossible de télécharger les données (overpassApi)'));\r\n            }\r\n            else {\r\n                let url = this.getUrlApi() + '/api/0.6/map?bbox=' + bbox.join(',');\r\n\r\n                return this.http.get(url)\r\n                    .map((res) => {\r\n                        this.setBbox(featureBbox);\r\n                        this.mergeNewOldData(this.xmlOsmToFormatedGeojson(res), this.dataService.getGeojson(), featureBbox);\r\n                    })\r\n                    .catch((error: any) => Observable.throw(error.json().error || 'Impossible de télécharger les données (api06)'));\r\n            }\r\n        }\r\n    }\r\n\r\n    /* ne garde que les relations complètes (=> web worker?) (côté serveur?)*/\r\n    private filterFeatures(features) {\r\n        let filterFeatures = [];\r\n        for (let i = 0; i < features.length; i++) {\r\n            let feature = features[i];\r\n            if (!feature.properties.tainted) { // !relation incomplete\r\n                let primaryTag = this.tagsService.getPrimaryKeyOfObject(feature.properties.tags);\r\n                if (primaryTag) { //tag interessant\r\n                    feature.properties['primaryTag'] = primaryTag;\r\n                    filterFeatures.push(feature);\r\n                }\r\n            }\r\n        }\r\n        return filterFeatures;\r\n    }\r\n\r\n    private xmlOsmToFormatedGeojson(res) {\r\n        let xml = new DOMParser().parseFromString(res.text(), 'text/xml');\r\n        let geojson = osmtogeojson(xml).geojson;\r\n        geojson.features = this.filterFeatures(geojson.features)\r\n\r\n        let featuresWayToPoint = this.wayToPoint(geojson);\r\n        return this.mapService.setIconStyle((featuresWayToPoint));\r\n    }\r\n\r\n    // => web workers? effectué coté serveur\r\n    private wayToPoint(FeatureCollection) {\r\n        let features = FeatureCollection.features;\r\n        for (let i = 0; i < features.length; i++) {\r\n\r\n            let feature = features[i];\r\n            if (feature.geometry) {\r\n                if (feature.geometry.type !== 'Point') {\r\n\r\n                    // on stocke la géométrie d'origine dans .way_geometry\r\n                    feature.properties.way_geometry = JSON.parse(JSON.stringify(feature.geometry));\r\n                    let geom;\r\n                    switch (feature.geometry.type) {\r\n                        case 'Polygon':\r\n                            geom = turf.polygon(feature.geometry.coordinates);\r\n                            break;\r\n                        case 'MultiPolygon':\r\n                            geom = turf.multiPolygon(feature.geometry.coordinates);\r\n                            break;\r\n                        case 'LineString':\r\n                            geom = turf.lineString(feature.geometry.coordinates);\r\n                            break;\r\n                        case 'MultiLineString':\r\n                            geom = turf.multiLineString(feature.geometry.coordinates);\r\n                            break;\r\n                    }\r\n\r\n                    if (geom) {\r\n                        feature.geometry.coordinates = turf.pointOnSurface(geom).geometry.coordinates;\r\n                        feature.geometry.type = 'Point';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return FeatureCollection;\r\n    }\r\n} // EOF Services\n\n\n// WEBPACK FOOTER //\n// ./src/services/osmApi.service.ts","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { DataService } from './data.service'\r\nimport { TagsService } from './tags.service'\r\nimport { AlertService } from './alert.service'\r\nimport { LocationService } from './location.service'\r\nimport { ConfigService } from './config.service'\r\nimport { Http } from '@angular/http';\r\n\r\n\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\ndeclare var turf;\r\ndeclare var mapboxgl: any;\r\n\r\n@Injectable()\r\nexport class MapService {\r\n\r\n  bboxPolygon;\r\n  map;\r\n  markerMove;\r\n  markerMoveMoving = false;\r\n  subscriptionMoveElement;\r\n  subscriptionMarkerMove;\r\n  mode = 'Update';\r\n  loadingData = false;\r\n  headingIsLocked = true;\r\n  positionIsFollow = true;\r\n  isDisplayOrtho: boolean = false;\r\n\r\n\r\n  eventDomMainReady = new EventEmitter();\r\n  eventCreateNewMap = new EventEmitter();\r\n  eventNewBboxPolygon = new EventEmitter();\r\n  eventMoveElement = new EventEmitter();\r\n  eventShowModal = new EventEmitter();\r\n  eventOsmElementUpdated = new EventEmitter();\r\n  eventOsmElementDeleted = new EventEmitter();\r\n  eventOsmElementCreated = new EventEmitter();\r\n  eventMarkerReDraw = new EventEmitter();\r\n  eventMarkerChangedReDraw = new EventEmitter();\r\n  markersLayer = [];\r\n\r\n  constructor(\r\n\r\n    public dataService: DataService,\r\n    public tagsService: TagsService,\r\n    public alertService: AlertService,\r\n    public locationService: LocationService,\r\n    public configService: ConfigService,\r\n    private http: Http) {\r\n\r\n    this.eventDomMainReady.subscribe(mes => {\r\n      mapboxgl.accessToken = 'pk.eyJ1IjoiZHozMTY0MjQiLCJhIjoiNzI3NmNkOTcyNWFlNGQxNzU2OTA1N2EzN2FkNWIwMTcifQ.NS8KWg47FzfLPlKY0JMNiQ';\r\n      this.initMap();\r\n    })\r\n\r\n    this.eventMarkerReDraw.subscribe(geojson => {\r\n      if (geojson) {\r\n        this.map.getSource('data').setData(geojson);\r\n        this.drawWaysPoly(geojson, 'ways');\r\n      }\r\n    });\r\n\r\n    this.eventMarkerChangedReDraw.subscribe(geojson => {\r\n      if (geojson) {\r\n        this.map.getSource('data_changed').setData(geojson);\r\n        this.drawWaysPoly(geojson, 'ways_changed');\r\n      }\r\n    });\r\n  } //EOF constructor\r\n\r\n  drawWaysPoly(geojson, source) {\r\n    let features = geojson.features;\r\n    let featuresWay = [];\r\n    for (let i = 0; i < features.length; i++) {\r\n      let feature = features[i];\r\n      if (feature.properties.type !== 'node') {\r\n        let featureWay = { 'type': 'Feature', 'properties': { 'hexColor': feature.properties.hexColor }, 'geometry': feature.properties.way_geometry };\r\n        featuresWay.push(featureWay);\r\n      }\r\n    }\r\n\r\n    this.map.getSource(source).setData({ \"type\": \"FeatureCollection\", \"features\": featuresWay });\r\n  }\r\n\r\n  getBbox() {\r\n    let marginBuffer = this.configService.getMapMarginBuffer(); // buffer en m\r\n\r\n    let w = document.getElementById('map').offsetWidth;\r\n    let h = document.getElementById('map').offsetHeight;\r\n    let cUL = this.map.unproject([0, 0]).toArray();\r\n    let cUR = this.map.unproject([w, 0]).toArray();\r\n    let cLR = this.map.unproject([w, h]).toArray();\r\n    let cLL = this.map.unproject([0, h]).toArray();\r\n\r\n    let coordinates = [cUL, cUR, cLR, cLL, cUL];\r\n    let lng_min = null;\r\n    let lng_max = null;\r\n    let lat_min = null;\r\n    let lat_max = null;\r\n    for (let i = 1; i < coordinates.length; i++) {\r\n      if (!lng_min || coordinates[i][0] < lng_min)\r\n        lng_min = coordinates[i][0];\r\n      if (!lng_max || coordinates[i][0] > lng_max)\r\n        lng_max = coordinates[i][0];\r\n      if (!lat_min || coordinates[i][1] < lat_min)\r\n        lat_min = coordinates[i][1];\r\n      if (!lat_max || coordinates[i][1] > lat_max)\r\n        lat_max = coordinates[i][1];\r\n    }\r\n\r\n    let pointMin = { \"type\": \"Feature\", \"properties\": {}, \"geometry\": { \"type\": \"Point\", \"coordinates\": [lng_min, lat_min] } };\r\n    let pointMax = { \"type\": \"Feature\", \"properties\": {}, \"geometry\": { \"type\": \"Point\", \"coordinates\": [lng_max, lat_max] } };\r\n    var coordsMin = turf.destination(pointMin, marginBuffer / 1000, -135).geometry.coordinates;\r\n    let coordsMax = turf.destination(pointMax, marginBuffer / 1000, 45).geometry.coordinates;\r\n\r\n    let bbox = [parseFloat(coordsMin[0]).toFixed(6), parseFloat(coordsMin[1]).toFixed(6), parseFloat(coordsMax[0]).toFixed(6), parseFloat(coordsMax[1]).toFixed(6)]; // on est pas à 1m près\r\n    return bbox;\r\n  }\r\n\r\n  resetNorth() {\r\n    this.map.resetNorth();\r\n  }\r\n\r\n\r\n  displayIgnOrtho(isDisplay: boolean) {\r\n\r\n    if (isDisplay) {\r\n      this.map.addLayer({\r\n        \"id\": \"lyrOrthoIgn\",\r\n        \"type\": \"raster\",\r\n        \"source\": \"tmsIgn\",\r\n        \"minzoom\": 14,\r\n        \"maxzoom\": 20\r\n      }, 'bboxLayer');\r\n      this.isDisplayOrtho = true;\r\n    }\r\n    else {\r\n      this.map.removeLayer('lyrOrthoIgn')\r\n      this.isDisplayOrtho = false;\r\n    }\r\n  }\r\n  centerOnMyPosition() {\r\n    this.map.setCenter(this.locationService.getCoordsPosition());\r\n    if (this.configService.config.lockMapHeading) {\r\n      this.headingIsLocked = true;\r\n    }\r\n    if (this.configService.config.followPosition) {\r\n      this.positionIsFollow = true;\r\n    }\r\n  }\r\n\r\n  setPitch(pitched: boolean) {\r\n    if (this.configService.config.mapIsPiched == false) {\r\n      this.map.setPitch(0);\r\n    }\r\n    else {\r\n      this.map.setPitch(60);\r\n    }\r\n  }\r\n\r\n\r\n  // CREATE NEW MARKER\r\n  eventMarkerMove = new EventEmitter();\r\n  markerMoving = false; // le marker est en train d'être positionné\r\n  markerPositionate;\r\n  positionateMarker() {\r\n    this.markerPositionate = this.createDomMoveMarker([this.map.getCenter().lng, this.map.getCenter().lat], '');\r\n    this.markerMoving = true;\r\n    this.markerPositionate.addTo(this.map);\r\n    this.eventMarkerMove.subscribe(center => {\r\n      this.markerPositionate.setLngLat(center);\r\n    });\r\n  }\r\n\r\n  openModalOsm() {\r\n    this.markerMoving = false;\r\n    this.markerPositionate.remove();\r\n    let coords = this.markerPositionate.getLngLat();\r\n    let newTag = { name: '' };\r\n    if (this.tagsService.getLastTagAdded()) { // on récupere le dernier tag créé si il existe\r\n      let lastTag: any = this.tagsService.getLastTagAdded();\r\n      newTag[lastTag.key] = lastTag.value;\r\n    } else {\r\n      newTag['shop'] = '*';\r\n    }\r\n    let pt = turf.point([coords.lng, coords.lat], { type: 'node', tags: newTag });\r\n    this.mode = 'Create';\r\n    this.eventShowModal.emit({ type: 'Create', geojson: pt, origineData: null })\r\n  }\r\n\r\n  cancelNewMarker() {\r\n    this.markerMoving = false;\r\n    this.markerPositionate.remove();\r\n  }\r\n\r\n\r\n  openModalWithNewPosition() {\r\n    this.markerMoveMoving = false;\r\n    this.markerMove.remove();\r\n    let geojson = this.markerMove.data;\r\n    let newLngLat = this.markerMove.getLngLat();\r\n    // on pousse les nouvelle coordonnées dans le geojson\r\n    geojson.geometry.coordinates = [newLngLat.lng, newLngLat.lat];\r\n    let origineData = (geojson.properties.changeType) ? 'data_changed' : 'data';\r\n    this.eventShowModal.emit({ type: this.mode, geojson: geojson, newPosition: true, origineData: origineData });\r\n  }\r\n\r\n  cancelNewPosition() {\r\n    this.markerMoveMoving = false;\r\n    let geojson = this.markerMove.data;\r\n    let origineData = (geojson.properties.changeType) ? 'data_changed' : 'data';\r\n    this.eventShowModal.emit({ type: this.mode, geojson: geojson, origineData: origineData });\r\n    this.markerMove.remove();\r\n  }\r\n\r\n\r\n  getBboxPolygon() {\r\n    return JSON.parse(JSON.stringify(this.bboxPolygon));\r\n  }\r\n\r\n  createDomMoveMarker(coord: number[], data) {\r\n    let el = document.createElement('div');\r\n    el.className = 'extra-marker extra-marker-circle-black';\r\n    let icon = document.createElement('i');\r\n    icon.style.color = 'white';\r\n    icon.className = 'fa fa-arrows';\r\n    el.appendChild(icon);\r\n    let marker = new mapboxgl.Marker(el, { offset: [-17, -42] }).setLngLat(coord);\r\n    marker.data = data;\r\n    return marker;\r\n  }\r\n\r\n  resetDataMap() {\r\n    this.eventNewBboxPolygon.emit(this.dataService.resetGeojsonBbox());\r\n    this.eventMarkerReDraw.emit(this.dataService.resetGeojsonData());\r\n  }\r\n\r\n\r\n\r\n\r\n  private getMarkerShape(feature) {\r\n    // rien a faire ici...\r\n    feature.properties['_name'] = feature.properties.tags.name ? feature.properties.tags.name : '';\r\n\r\n    if (feature.properties.type === 'node') {\r\n      return 'circle'\r\n    }\r\n    else {\r\n      if (feature.properties.way_geometry.type === 'LineString' || feature.properties.way_geometry.type === 'MultiLineString') {\r\n        return 'penta'\r\n      } else if (feature.properties.way_geometry.type === 'Polygon' || feature.properties.way_geometry.type === 'MultiPolygon') {\r\n        return 'square'\r\n      } else {\r\n        return 'star';\r\n      }\r\n    }\r\n  }\r\n\r\n  getMapStyle(): Observable<any> {\r\n    return this.http.get('assets/mapStyle/brigthCustom.json')\r\n      .map(res => {\r\n        let mapStyle = res.json();\r\n        return mapStyle;\r\n      });\r\n\r\n  }\r\n\r\n  getIconStyle(feature) {\r\n    let listOfPrimaryKeys = this.tagsService.getListOfPrimaryKey();\r\n    let primaryTag = this.tagsService.getPrimaryKeyOfObject(feature.properties.tags); // {k: \"shop\", v: \"travel_agency\"}\r\n    feature.properties['primaryTag'] = primaryTag;\r\n    if (listOfPrimaryKeys.indexOf(primaryTag.k) !== -1) { // c'est un objet à afficher\r\n      let configMarker = this.tagsService.getConfigMarkerByKv(primaryTag.k, primaryTag.v);\r\n      if (configMarker) { // OK\r\n\r\n        feature.properties.icon = (configMarker.icon) ? configMarker.icon : ''\r\n        feature.properties.marker = this.getMarkerShape(feature) + '-' + configMarker.markerColor + '-' + feature.properties.icon;\r\n        feature.properties.hexColor = configMarker.markerColor;\r\n\r\n      } else { // on ne connait pas la 'value', donc pas de config pour le marker \r\n        feature.properties.marker = this.getMarkerShape(feature) + '-#000000-';\r\n        feature.properties.icon = 'mi-white-circle'\r\n        feature.properties.hexColor = '#000000';\r\n      }\r\n    }\r\n    return feature;\r\n  }\r\n\r\n  setIconStyle(FeatureCollection) {\r\n    let features = FeatureCollection.features;\r\n    for (let i = 0; i < features.length; i++) {\r\n      let feature = features[i];\r\n      this.getIconStyle(feature); // lent....\r\n    }\r\n    return FeatureCollection;\r\n  }\r\n\r\n  initMap() {\r\n\r\n    let that = this\r\n    this.getMapStyle().subscribe(mapStyle => { //tricks pour donner le chemin complet des sprites pour MapboxGL >= 0.27\r\n      let path = window.location.href\r\n      let spritesFullPath = 'mapStyle/sprites';\r\n      if (window.location.protocol == 'http:' || window.location.protocol == 'https:') {\r\n        // http://localhost:8100/ => http://localhost:8100/assets/mapStyle/sprites\r\n        spritesFullPath = path + 'assets/mapStyle/sprites'\r\n      }\r\n      else {\r\n        //file:///android_asset/www/index.html => file:///android_asset/www/assets/mapStyle/sprites\r\n        spritesFullPath = path.replace('/index.html', '/assets/mapStyle/sprites')\r\n      }\r\n      mapStyle.sprite = spritesFullPath;\r\n\r\n\r\n      this.map = new mapboxgl.Map({\r\n        container: 'map',\r\n        style: mapStyle,\r\n        center: [5, 45],\r\n        zoom: 19,\r\n        maxZoom: 22,\r\n        doubleClickZoom: false,\r\n        attributionControl: false,\r\n        dragRotate: false,\r\n        trackResize: false,\r\n        pitch: (this.configService.config.mapIsPiched) ? 60 : 0\r\n      });\r\n\r\n      this.map.addControl(new mapboxgl.NavigationControl());\r\n\r\n      this.map.on('load', function () {\r\n        that.mapIsLoaded();\r\n\r\n      });\r\n\r\n      this.map.on('move', (e) => {\r\n        if (this.markerMoving || this.markerMoveMoving)\r\n          this.eventMarkerMove.emit(this.map.getCenter());\r\n      });\r\n\r\n    })\r\n\r\n    let timer = Observable.timer(100, 100);\r\n    let subscriptionTimer = timer.subscribe(t => {\r\n      this.map.resize();\r\n\r\n      if (document.getElementById('map').offsetWidth > 200) {\r\n        subscriptionTimer.unsubscribe();\r\n      }\r\n    });\r\n\r\n    /* SUBSCRIPTION */\r\n    // la config est chargée\r\n    this.configService.eventConfigIsLoaded.subscribe(conf => {\r\n      this.setPitch(conf.mapIsPiched);\r\n    });\r\n\r\n    // un nouveau polygon!\r\n    this.eventNewBboxPolygon.subscribe(geojsonPolygon => {\r\n      this.map.getSource('bbox').setData(geojsonPolygon);\r\n    });\r\n\r\n    // un marker est à déplacer! \r\n    this.subscriptionMoveElement = this.eventMoveElement.subscribe(data => {\r\n      this.mode = data.mode;\r\n      let geojson = data.geojson;\r\n      // on recupere le marker concerné\r\n      let marker = null;\r\n      for (let i = 0; i < this.markersLayer.length; i++) {\r\n        let m = this.markersLayer[i];\r\n        if (m.id === geojson.id) {\r\n          marker = m;\r\n          break;\r\n        }\r\n      }\r\n      this.map.setCenter(geojson.geometry.coordinates);\r\n      this.markerMove = this.createDomMoveMarker(geojson.geometry.coordinates, geojson);\r\n      this.markerMoveMoving = true;\r\n      this.markerMove.addTo(this.map);\r\n      this.subscriptionMarkerMove = this.eventMarkerMove.subscribe(center => {\r\n        this.markerMove.setLngLat(center);\r\n      });\r\n    });\r\n  }\r\n\r\n  loadDataFromLocalStorage() {\r\n    this.dataService.localStorage.get('geojsonBbox').then(data => {\r\n      if (data) {\r\n        this.dataService.setGeojsonBbox(data);\r\n        this.eventNewBboxPolygon.emit(data);\r\n      }\r\n\r\n    });\r\n\r\n    this.dataService.localStorage.get('geojsonChanged').then(data => {\r\n      if (data) {\r\n        this.dataService.setGeojsonChanged(data);\r\n        this.eventMarkerChangedReDraw.emit(data);\r\n      }\r\n      this.dataService.localStorage.get('geojson').then(data2 => {\r\n        if (data2) {\r\n          if (data2.features.length > 0)\r\n            this.alertService.eventNewAlert.emit(data2.features.length + ' anciens éléments chargés')\r\n          this.dataService.setGeojson(data2);\r\n          this.eventMarkerReDraw.emit(data2);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  mapIsLoaded() {\r\n    let map = this.map;\r\n    let that = this;\r\n\r\n    this.loadDataFromLocalStorage();\r\n    let minzoom = 14;\r\n\r\n    this.map.addSource(\"bbox\", { \"type\": \"geojson\", \"data\": { \"type\": \"FeatureCollection\", \"features\": [] } });\r\n    this.map.addSource(\"data\", { \"type\": \"geojson\", \"data\": { \"type\": \"FeatureCollection\", \"features\": [] } });\r\n    this.map.addSource(\"data_changed\", { \"type\": \"geojson\", \"data\": { \"type\": \"FeatureCollection\", \"features\": [] } });\r\n    this.map.addSource(\"ways\", { \"type\": \"geojson\", \"data\": { \"type\": \"FeatureCollection\", \"features\": [] } });\r\n    this.map.addSource(\"ways_changed\", { \"type\": \"geojson\", \"data\": { \"type\": \"FeatureCollection\", \"features\": [] } });\r\n    this.map.addSource(\"location_circle\", { \"type\": \"geojson\", \"data\": { \"type\": \"FeatureCollection\", \"features\": [] } });\r\n    this.map.addSource(\"location_point\", { \"type\": \"geojson\", \"data\": { \"type\": \"FeatureCollection\", \"features\": [] } });\r\n\r\n    //test Tile\r\n    this.map.addSource(\"tmsIgn\", {\r\n      \"type\": \"raster\",\r\n      \"tiles\": ['http://proxy-ortho-ign.dogeo.fr/{z}/{x}/{y}'], \"tileSize\": 256\r\n      // \"tiles\": ['http://a.tiles.mapbox.com/v4/openstreetmap.map-inh7ifmo/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoib3BlbnN0cmVldG1hcCIsImEiOiJncjlmd0t3In0.DmZsIeOW-3x-C5eX-wAqTw'], \"tileSize\": 256\r\n    });\r\n\r\n    this.map.addLayer({\r\n      'id': 'bboxLayer', 'type': 'line', 'source': 'bbox',\r\n      'paint': { 'line-color': '#088', 'line-width': 5 }\r\n    });\r\n\r\n    this.map.addLayer({\r\n      \"id\": \"way_fill\", \"type\": \"fill\", \"minzoom\": minzoom, \"source\": \"ways\",\r\n      'paint': { 'fill-color': { \"property\": 'hexColor', \"type\": 'identity' }, 'fill-opacity': 0.3 },\r\n      \"filter\": ['all', ['==', '$type', 'Polygon']]\r\n    });\r\n\r\n    this.map.addLayer({\r\n      \"id\": \"way_line\", \"type\": \"line\", \"source\": \"ways\", \"minzoom\": minzoom,\r\n      \"paint\": {\r\n        \"line-color\": { \"property\": 'hexColor', \"type\": 'identity' },\r\n        \"line-width\": 4, 'line-opacity': 0.7\r\n      },\r\n      \"layout\": { \"line-join\": \"round\", \"line-cap\": \"round\" },\r\n      \"filter\": ['all', ['==', '$type', 'LineString']]\r\n    });\r\n\r\n    this.map.addLayer({\r\n      \"id\": \"way_fill_changed\", \"type\": \"fill\",  \"source\": \"ways_changed\",\r\n      'paint': { 'fill-color': { \"property\": 'hexColor', \"type\": 'identity' }, 'fill-opacity': 0.3 },\r\n      \"filter\": ['all', ['==', '$type', 'Polygon']]\r\n    });\r\n\r\n    this.map.addLayer({\r\n      \"id\": \"way_line_changed\", \"type\": \"line\", \"source\": \"ways_changed\",\r\n      \"paint\": {\r\n        \"line-color\": { \"property\": 'hexColor', \"type\": 'identity' },\r\n        \"line-width\": 4, 'line-opacity': 0.7\r\n      },\r\n      \"layout\": { \"line-join\": \"round\", \"line-cap\": \"round\" },\r\n      \"filter\": ['all', ['==', '$type', 'LineString']]\r\n    });\r\n\r\n    this.map.addLayer({\r\n      \"id\": \"label\", \"type\": \"symbol\", \"minzoom\": 16.5, \"source\": \"data\",\r\n      \"layout\": { \"icon-image\": \"none\", \"icon-offset\": [0, -14], \"text-field\": \"{_name}\", \"text-font\": [\"Roboto-Regular\"], \"text-allow-overlap\": false, \"text-size\": 9, \"text-offset\": [0, 1] },\r\n      \"paint\": { \"text-color\": \"#888\", \"text-halo-color\": \"rgba(255,255,255,0.8)\", \"text-halo-width\": 1 }\r\n    });\r\n\r\n    this.map.addLayer({\r\n      \"id\": \"label_changed\", \"type\": \"symbol\", \"minzoom\": 16.5, \"source\": \"data_changed\",\r\n      \"layout\": { \"icon-image\": \"none\", \"icon-offset\": [0, -14], \"text-field\": \"{_name}\", \"text-font\": [\"Roboto-Regular\"], \"text-allow-overlap\": false, \"text-size\": 9, \"text-offset\": [0, 1] },\r\n      \"paint\": { \"text-color\": \"#888\", \"text-halo-color\": \"rgba(255,255,255,0.8)\", \"text-halo-width\": 1 }\r\n    });\r\n\r\n    //location\r\n    this.map.addLayer({\r\n      \"id\": \"location_circle\", \"type\": \"fill\", \"source\": \"location_circle\",\r\n      \"layout\": {},\r\n      \"paint\": { \"fill-color\": '#A6A6FF', \"fill-opacity\": 0.3 }\r\n    });\r\n    this.map.addLayer({\r\n      \"id\": \"location_point\", \"type\": \"symbol\", \"source\": \"location_point\",\r\n      \"layout\": {\r\n        \"icon-image\": \"arrow-position\", \"icon-allow-overlap\": true, \"icon-ignore-placement\": true,\r\n        'icon-rotate': { \"property\": 'trueHeading', \"type\": 'identity' }\r\n      }\r\n    });\r\n\r\n\r\n    // defini le style du marker en arrière plan\r\n    this.map.addLayer({\r\n      \"id\": \"marker\", \"type\": \"symbol\", \"minzoom\": minzoom, \"source\": \"data\",\r\n      \"layout\": { \"icon-image\": \"{marker}\", \"icon-allow-overlap\": true, \"icon-ignore-placement\": true, \"icon-offset\": [0, -14] }\r\n    });\r\n\r\n    this.map.addLayer({\r\n      \"id\": \"marker_changed\", \"type\": \"symbol\", \"source\": \"data_changed\",\r\n      \"layout\": { \"icon-image\": \"{marker}\", \"icon-allow-overlap\": true, \"icon-ignore-placement\": true, \"icon-offset\": [0, -14] }\r\n    });\r\n\r\n    this.map.addLayer({\r\n      \"id\": \"icon-change\", \"type\": \"symbol\", \"source\": \"data_changed\",\r\n      \"layout\": {\r\n        \"icon-image\": \"{changeType}\", \"icon-ignore-placement\": true, \"icon-offset\": [0, -35]\r\n      }\r\n    });\r\n\r\n    this.map.on('click', function (e) {\r\n      let c = [[e.point.x - 8, e.point.y + 8], [e.point.x + 8, e.point.y + 18]];\r\n      let features = map.queryRenderedFeatures(c, { layers: ['marker', 'marker_changed', 'label_changed', 'label', 'icon-change'] });\r\n      if (!features.length) {\r\n        return;\r\n      }\r\n      let feature = features[0];\r\n      let layer = feature.layer.id;\r\n      // Provenance de la donnée d'origine (data OU data_changed)\r\n      let origineData = 'data';\r\n      if (layer === 'label_changed' || layer === 'marker_changed' || layer === 'icon-change') {\r\n        origineData = 'data_changed';\r\n      }\r\n\r\n      let geojson = that.dataService.getFeatureById(feature.properties.id, origineData);\r\n      that.eventShowModal.emit({ type: 'Read', geojson: geojson, origineData: origineData });\r\n    });\r\n\r\n    this.map.on('dragstart', function (e) {\r\n      that.headingIsLocked = false;\r\n      that.positionIsFollow = false;\r\n    });\r\n\r\n    this.map.on('rotatestart', function (e) {\r\n      that.headingIsLocked = false;\r\n      that.positionIsFollow = false;\r\n    });\r\n\r\n\r\n    //GPS\r\n    if (this.locationService.gpsIsReady) {\r\n      this.map.getSource('location_point').setData(this.locationService.getGeojsonPos())\r\n      this.map.setCenter(this.locationService.getGeojsonPos().features[0].geometry.coordinates)\r\n    }\r\n\r\n    this.locationService.eventNewCompassHeading.subscribe(heading => {\r\n\r\n      if (this.configService.config.lockMapHeading && this.headingIsLocked) { // on suit l'orientation, la map tourne\r\n        this.map.rotateTo(heading.trueHeading);\r\n        if (that.configService.config.mapIsPiched) {\r\n          map.setLayoutProperty('location_point', 'icon-rotation-alignment', 'map');\r\n          map.setLayoutProperty('location_point', 'icon-rotate', heading.trueHeading)\r\n        } else { // plus  jolie en vu du dessus, icon toujour au nord, la carte tourne\r\n          map.setLayoutProperty('location_point', 'icon-rotation-alignment', 'viewport');\r\n          map.setLayoutProperty('location_point', 'icon-rotate', 0);\r\n        }\r\n      } else { // la map reste fixe, l'icone tourn\r\n        map.setLayoutProperty('location_point', 'icon-rotation-alignment', 'map');\r\n        map.setLayoutProperty('location_point', 'icon-rotate', heading.trueHeading)\r\n      }\r\n    });\r\n\r\n    this.locationService.eventNewLocation.subscribe(geojsonPos => {\r\n      this.map.getSource('location_circle').setData(this.locationService.getGeoJSONCirclePosition())\r\n      if (geojsonPos.features[0].properties) {\r\n        this.map.getSource('location_point').setData(geojsonPos);\r\n        if (this.configService.config.followPosition && this.positionIsFollow) {\r\n          that.map.setCenter(geojsonPos.features[0].geometry.coordinates)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/map.service.ts","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n\r\n@Injectable()\r\nexport class DataService {\r\n    eventNewPage = new EventEmitter();\r\n    geojson = { \"type\": \"FeatureCollection\", \"features\": [] };\r\n    geojsonChanged = { \"type\": \"FeatureCollection\", \"features\": [] }\r\n    geojsonWay = { \"type\": \"FeatureCollection\", \"features\": [] };\r\n    geojsonBbox = { \"type\": \"FeatureCollection\", \"features\": [] };\r\n\r\n     constructor(public localStorage: Storage) { \r\n      }\r\n\r\n\r\n\r\n\r\n    setGeojsonBbox(geojsonBbox) {\r\n        this.geojsonBbox = geojsonBbox;\r\n        this.localStorage.set('geojsonBbox', this.geojsonBbox);\r\n    }\r\n    getGeojsonBbox() {\r\n        return this.geojsonBbox\r\n    }\r\n\r\n    resetGeojsonBbox() {\r\n        this.setGeojsonBbox({ \"type\": \"FeatureCollection\", \"features\": [] });\r\n        return { \"type\": \"FeatureCollection\", \"features\": [] };\r\n    }\r\n\r\n\r\n    setGeojsonWay(data) {\r\n        this.geojsonWay = JSON.parse(JSON.stringify(data));\r\n    }\r\n    addFeatureToGeojsonWay(feature) {\r\n        this.geojsonWay.features.push(feature);\r\n    }\r\n\r\n    getGeojson() {\r\n        return this.geojson;\r\n    }\r\n\r\n    setGeojson(data) {\r\n        this.geojson = JSON.parse(JSON.stringify(data));\r\n        this.localStorage.set('geojson', this.geojson);\r\n    }\r\n    addFeatureToGeojson(feature) {\r\n        this.geojson.features.push(feature);\r\n        this.setGeojson(this.geojson);\r\n    }\r\n    updateFeatureToGeojson(feature) {\r\n        for (let i = 0; i < this.geojson.features.length; i++) {\r\n            if (this.geojson.features[i].id === feature.id) {\r\n                this.geojson.features[i] = feature;\r\n                this.setGeojson(this.geojson);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteFeatureFromGeojson(feature) {\r\n        for (let i = 0; i < this.geojson.features.length; i++) {\r\n            if (this.geojson.features[i].id === feature.id) {\r\n                this.geojson.features.splice(i, 1);\r\n                this.setGeojson(this.geojson);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getFeatureById(id,origineData) {\r\n      \r\n          let features= (origineData === 'data_changed') ? this.getGeojsonChanged().features :   this.getGeojson().features;\r\n      \r\n        \r\n        for (let i = 0; i < features.length; i++) {\r\n            if (features[i].properties.id === id) {\r\n                return JSON.parse(JSON.stringify(features[i]));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /* Delayedd */\r\n\r\n    getGeojsonChanged() {\r\n        return JSON.parse(JSON.stringify(this.geojsonChanged));\r\n    }\r\n\r\n    setGeojsonChanged(geojson) {\r\n        this.geojsonChanged = geojson;\r\n        this.localStorage.set('geojsonChanged', this.geojsonChanged);\r\n    }\r\n\r\n    getCountGeojsonChanged(): number {\r\n        if (this.getGeojsonChanged().features) {\r\n            return this.getGeojsonChanged().features.length\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n    addFeatureToGeojsonChanged(feature) {\r\n\r\n        this.geojsonChanged.features.push(feature);\r\n        this.localStorage.set('geojsonChanged', this.geojsonChanged);\r\n\r\n    }\r\n\r\n    updateFeatureToGeojsonChanged(feature) {\r\n        for (let i = 0; i < this.geojsonChanged.features.length; i++) {\r\n            if (this.geojsonChanged.features[i].id === feature.id) {\r\n                this.geojsonChanged.features[i] = feature;\r\n            }\r\n        }\r\n        this.localStorage.set('geojsonChanged', this.geojsonChanged);\r\n    }\r\n    deleteFeatureFromGeojsonChanged(feature) {\r\n\r\n        for (let i = 0; i < this.geojsonChanged.features.length; i++) {\r\n            if (this.geojsonChanged.features[i].id === feature.id) {\r\n                this.geojsonChanged.features.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n\r\n        this.localStorage.set('geojsonChanged', this.geojsonChanged);\r\n    }\r\n\r\n    getMergedGeojsonGeojsonChanged() {\r\n        // stock les id dans un array\r\n        let changedIds = [];\r\n        for (let i = 0; i < this.geojsonChanged.features.length; i++) {\r\n            changedIds.push(this.geojsonChanged.features[i].id);\r\n        }\r\n        //DELETE from GEOJSON\r\n        for (let i = this.geojson.features.length - 1; i >= 0; i--) {\r\n            if (changedIds.indexOf(this.geojson.features[i].id) != -1) {\r\n                this.geojson.features.splice(i, 1);\r\n            }\r\n        }\r\n        // ADD to geojson\r\n        for (let i = 0; i < this.geojsonChanged.features.length; i++) {\r\n            this.geojson.features.push(this.geojsonChanged.features[i]);\r\n        }\r\n        return JSON.parse(JSON.stringify(this.geojson))\r\n    }\r\n\r\n    cancelFeatureChange(feature) {\r\n\r\n        let originalFeature = JSON.parse(JSON.stringify(feature.properties.originalData));\r\n        this.deleteFeatureFromGeojsonChanged(feature);\r\n        //this.deleteFeatureFromGeojson(feature);\r\n        if (feature.properties.changeType !== 'Create') {\r\n            this.addFeatureToGeojson(originalFeature);\r\n        }\r\n    }\r\n\r\n    resetGeojsonData() {\r\n        this.setGeojson({ \"type\": \"FeatureCollection\", \"features\": [] });\r\n        // this.getMergedGeojsonGeojsonChanged();\r\n        // return this.getMergedGeojsonGeojsonChanged();\r\n        return { \"type\": \"FeatureCollection\", \"features\": [] };\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/data.service.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n\r\n@Injectable()\r\nexport class TagsService {\r\n    lastTagAdded = {};\r\n    bookMarks = [];\r\n    tags;\r\n    Presets = [];\r\n    primaryKeys = [];\r\n\r\n\r\n    constructor(private http: Http, public localStorage: Storage) {\r\n        this.loadLastTagAdded();\r\n        this.loadBookMarks();\r\n        this.loadPrimaryKeys();\r\n\r\n    }\r\n\r\n//bookMarks\r\n    getBookMarks() {\r\n        return this.bookMarks;\r\n    }\r\n    setBookMarks(bookMarks) {\r\n        this.localStorage.set('bookMarks', bookMarks);\r\n        this.bookMarks = bookMarks;\r\n    }\r\n    addRemoveBookMark(tag){\r\n\r\n        let ind = -1;\r\n        for (let i =0; i < this.bookMarks.length; i++){\r\n            if (this.bookMarks[i].key == tag.key && this.bookMarks[i].primaryKey == tag.primaryKey){\r\n                 ind = i; \r\n            } \r\n        }\r\n\r\n        if (ind === -1){\r\n            this.bookMarks.push(tag);\r\n        } else {\r\n            this.bookMarks.splice(ind,1);\r\n        }\r\n        this.localStorage.set('bookMarks', this.bookMarks);\r\n    }\r\n\r\n    loadBookMarks() {\r\n        this.localStorage.get('bookMarks').then(d => {\r\n            if (d) {\r\n                this.bookMarks = d;\r\n            } else {\r\n               this.bookMarks = [];\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n//LastTagAdded\r\n     getLastTagAdded() {\r\n        return this.lastTagAdded;\r\n    }\r\n    setLastTagAdded(lastTag) {\r\n        this.localStorage.set('lastTagAdded', lastTag);\r\n        this.lastTagAdded = lastTag;\r\n    }\r\n    loadLastTagAdded() {\r\n        this.localStorage.get('lastTagAdded').then(d => {\r\n            if (d) {\r\n                this.lastTagAdded = d;\r\n            } else {\r\n               this.lastTagAdded = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    loadPrimaryKeys(){\r\n         this.getAllTags().subscribe(allTags => {\r\n            for (let key in allTags) {\r\n                this.primaryKeys.push({ lbl: allTags[key].lbl, key: key });\r\n            }\r\n         });\r\n    }\r\n    \r\n    getPrimaryKeys(){\r\n        return this.primaryKeys;\r\n    }\r\n\r\n    getAllTags(): Observable<any> {\r\n        return this.http.get('assets/tags/tags.json')\r\n            .map(res => {\r\n\r\n                let tags = res.json();\r\n                for (let tagsObject in tags) {\r\n                    for (let i = 0; i < tags[tagsObject].values.length; i++) {\r\n                        tags[tagsObject].values[i]['primaryKey'] = tagsObject;\r\n                    }\r\n                }\r\n                this.tags = tags;\r\n                return tags;\r\n            });\r\n    }\r\n\r\n\r\n    loadTags() {\r\n        this.http.get('assets/tags/tags.json')\r\n            .map((res) => {\r\n\r\n                // this.tags = res;\r\n                return res;\r\n            })\r\n            .subscribe(data => {\r\n                let tags = JSON.parse(data.text());\r\n                for (let tagsObject in tags) {\r\n                    for (let i = 0; i < tags[tagsObject].values.length; i++) {\r\n                        tags[tagsObject].values[i]['primaryKey'] = tagsObject;\r\n                    }\r\n\r\n                }\r\n                this.tags = tags;\r\n                this.getListOfPrimaryKey();\r\n                return tags;\r\n            })\r\n            ;\r\n        // .catch((error: any) => Observable.throw(error.json().error || 'Server error'));\r\n    };\r\n\r\n\r\n    getTags() {\r\n        return JSON.parse(JSON.stringify(this.tags));\r\n    }\r\n\r\n    getFullTags() {\r\n        let res = [];\r\n        let tags = this.getTags();\r\n        for (let tagsObject in tags) {\r\n            for (let i = 0; i < tags[tagsObject].values.length; i++) {\r\n                let currentTag = JSON.parse(JSON.stringify(tags[tagsObject].values[i]));\r\n                res.push(currentTag);\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n    getPresets(presetsList: string[]) {\r\n        return this.http.get('assets/tags/presets.json')\r\n            .map((p) => {\r\n                p = p.json();\r\n                let res = {};\r\n                for (let i = 0; i < presetsList.length; i++) {\r\n                    res[presetsList[i]] = p[presetsList[i]];\r\n                }\r\n                return res;\r\n            });\r\n    }\r\n\r\n\r\n\r\n    // liste des clés principales => [\"shop\", \"amenity\", \"public_transport\", \"emergency\",...]\r\n    getListOfPrimaryKey() {\r\n        let tags = this.tags;\r\n        let listeOfPrimaryKey = [];\r\n        for (let key in tags) {\r\n            listeOfPrimaryKey.push(key);\r\n        }\r\n        return listeOfPrimaryKey;\r\n    }\r\n\r\n    getPrimaryKeyOfObject(tags) {\r\n        let types_liste = this.getListOfPrimaryKey();\r\n        let kv = { k: '', v: '' };\r\n        for (let k in tags) {\r\n            if (types_liste.indexOf(k) !== -1) {\r\n                kv = { k: k, v: tags[k] };\r\n                return kv\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getPrimaryKeyOfArray(tags) {\r\n        let types_liste = this.getListOfPrimaryKey();\r\n        let kv = { key: '', value: '' };\r\n        for (let i = 0; i < tags.length; i++) {\r\n            if (types_liste.indexOf(tags[i].key) !== -1) {\r\n                kv = { key: tags[i].key, value: tags[i].value };\r\n                break;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getConfigMarkerByKv(k, v) {\r\n        let tags = this.getTags();\r\n        if (tags[k]) {\r\n            for (let i in tags[k].values) {\r\n                if (tags[k].values[i].key === v) {\r\n                    return tags[k].values[i]\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/tags.service.ts","import { Injectable, EventEmitter } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class AlertService {\r\n    eventNewAlert = new EventEmitter();\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/alert.service.ts","import { Component, Input } from '@angular/core';\n\n@Component({\n    selector: 'read-primary-key',\n    template: `\n   \t<ion-card>\n\t\t\t\t<ion-card-header>\n\t\t\t\t\t<b *ngIf=\"!displayCode\">{{keyLbl}}</b>\n\t\t\t\t\t<b *ngIf=\"displayCode\">{{primaryKey.key}}</b>\n\t\t\t\t</ion-card-header>\n\t\t\t\t<ion-card-content>\n                <p *ngIf=\"!displayCode && configOfPrimaryKey?.lbl\"> {{configOfPrimaryKey.lbl}}</p>\n                <p *ngIf=\"displayCode || !configOfPrimaryKey?.lbl\"> \n                    <i class=\"fa fa-code\" aria-hidden=\"true\"></i> \n                    {{primaryKey.value}}\n                </p>\n\t\t\t\t</ion-card-content>\n\t\t\t</ion-card>\n  `\n})\nexport class ReadPrimaryKey {\n    @Input() displayCode;\n    @Input() keyLbl;\n    @Input() primaryKey;\n    @Input() configOfPrimaryKey;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/components/READ_PrimaryKey.component.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n    selector: 'edit-primary-key',\n    template: `\n    \t<ion-card (click)=\"emitOpenModal()\">\n\t\t\t\t<ion-card-header>\n\t\t\t\t\t<b *ngIf=\"!displayCode\">{{keyLbl}}</b>\n\t\t\t\t\t<b *ngIf=\"displayCode\">{{primaryKey.key}}</b>\n\t\t\t\t</ion-card-header>\n\n\t\t\t\t<ion-card-content>\n\t\t\t\t\t<ion-grid>\n\t\t\t\t\t\t<ion-row>\n\t\t\t\t\t\t\t<ion-col width-90>\n\t\t\t\t\t\t\t\t<p *ngIf=\"!displayCode && configOfPrimaryKey?.lbl\"> {{configOfPrimaryKey.lbl}}</p>\n\t\t\t\t\t\t\t\t<p *ngIf=\"displayCode || !configOfPrimaryKey?.lbl\"> \n\t\t\t\t\t\t\t\t\t<i class=\"fa fa-code\"></i> \n                                \t{{primaryKey.value}}\n                                </p>\n\t\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t\t\t<ion-col width-10>\n\t\t\t\t\t\t\t\t<i class=\"fa fa-cog fa-2x\"></i>\n\t\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t\t</ion-row>\n\t\t\t\t\t</ion-grid>\n\t\t\t\t</ion-card-content>\n\t\t\t</ion-card>\n  `\n})\nexport class EditPrimaryKey {\n    @Output() openPrimaryTagModal = new EventEmitter();\n    @Input() displayCode;\n    @Input() keyLbl;\n    @Input() primaryKey;\n    @Input() configOfPrimaryKey;\n\n    emitOpenModal(){\n        this.openPrimaryTagModal.emit();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/components/EDIT_PrimaryKey.component.ts","import { Component, Input } from '@angular/core';\n\n@Component({\n    selector: 'read-presets',\n    template: `\n   \t    <ion-card>\n\t\t\t\t<ion-card-header>\n\t\t\t\t\t<b *ngIf=\"!displayCode\">{{currentPresets[tag.key]?.lbl}}</b>\n\t\t\t\t\t<b *ngIf=\"displayCode\">{{tag.key}}</b>\n\t\t\t\t</ion-card-header>\n\t\t\t\t<ion-card-content>\n                    <p *ngIf=\"!displayCode && findCurrentConfigPresset(tag)\">{{findCurrentConfigPresset(tag).lbl}}</p>\n                    <p *ngIf=\"displayCode || !findCurrentConfigPresset(tag)\">\n                        <i *ngIf=\"currentPresets[tag.key]?.type !== 'number' && currentPresets[tag.key]?.type !== 'text' \" class=\"fa fa-code\" aria-hidden=\"true\"></i>\n                         {{tag.value}}\n                    </p>\n             \n\t\t\t\t</ion-card-content>\n\t\t\t</ion-card>\n  `\n})\nexport class ReadPresets {\n    @Input() displayCode;\n    @Input() currentPresets;\n    @Input() tag;\n\n    findCurrentConfigPresset(tag) {\n        if (this.currentPresets[tag.key]) {\n            if (this.currentPresets[tag.key].type == 'list' || this.currentPresets[tag.key].type == 'select') {\n                for (let i = 0; i < this.currentPresets[tag.key].tags.length; i++) {\n                    if (this.currentPresets[tag.key].tags[i].v == tag.value){\n                        return this.currentPresets[tag.key].tags[i];\n                    }\n                }\n            }\n            else {\n                return  {v: tag.value, lbl: tag.value}\n            }\n        }\n        else { //=> undefined ???\n        }\n\n        return null;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/components/READ_Presets.component.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n    selector: 'edit-presets',\n    template: `\n                    <ion-card *ngIf=\"currentPresets[tag.key]?.type === 'select'\">\n                        <ion-card-header>\n                        \t<b *ngIf=\"!displayCode\">{{currentPresets[tag.key]?.lbl}}</b>\n\t\t\t\t\t\t    <b *ngIf=\"displayCode\">{{tag.key}}</b>\n                        </ion-card-header>\n\n                        <ion-card-content>\n                        <ion-grid>\n\t\t\t\t\t\t\t<ion-row>\n\n\t\t\t\t\t\t\t\t<ion-col width-90>\n                                \t<select class=\"select-md\" *ngIf=\"!displayCode\" [(ngModel)]=\"tag.value\"> \n\t\t\t\t\t\t\t\t\t\t<option  *ngFor =\"let item of currentPresets[tag.key].tags;\" [ngValue]=\"item.v\" >  {{item.lbl}} </option>\n\t\t\t\t\t\t\t\t\t</select>\n                                    <ion-item *ngIf=\"displayCode\">\n\t\t\t\t\t\t\t\t\t\t<ion-input type=\"text\" [(ngModel)]=\"tag.value\" [placeholder]=\"tag.key\"></ion-input>\n\t\t\t\t\t\t\t\t\t</ion-item>\n                                </ion-col>\n\n\t\t\t\t\t\t\t\t<ion-col width-10>\n\t\t\t\t\t\t\t\t<i (click)=\"tag.value = ''\" class=\"fa fa-times fa-2x\"></i>\n\t\t\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t\t\t</ion-row>\n\t\t\t\t\t\t</ion-grid>\n\n                        </ion-card-content>\n                    </ion-card>\n\n\n\n                   <ion-card *ngIf=\"currentPresets[tag.key]?.type === 'list'\">\n                        <ion-card-header  (click)=\"emitOpenModal()\">\n                        \t<b *ngIf=\"!displayCode\">{{currentPresets[tag.key]?.lbl}} <i  class=\"fa fa-cog\"></i></b>\n\t\t\t\t\t\t    <b *ngIf=\"displayCode\"> {{tag.key}}</b>\n                        </ion-card-header>\n\n                        <ion-card-content>\n                        <ion-grid>\n\t\t\t\t\t\t\t<ion-row>\n\t\t\t\t\t\t\t\t<ion-col width-90  >\n                                    <ion-item *ngIf=\"!displayCode && findCurrentConfigPresset(tag)\" (click)=\"emitOpenModal()\">\n                                        <p>{{ findCurrentConfigPresset(tag).lbl }} </p>\n                                    </ion-item>\n                                   \n                                    <ion-item *ngIf=\"displayCode || !findCurrentConfigPresset(tag)\" style=\"padding-left: 0px\">\n                                         <ion-label color=\"primary\"> <i class=\"fa fa-code\"></i> </ion-label>\n\t\t\t\t\t\t\t\t\t\t<ion-input type=\"text\" [(ngModel)]=\"tag.value\" [placeholder]=\"tag.key\"></ion-input>\n\t\t\t\t\t\t\t\t\t</ion-item>\n                                </ion-col>\n\t\t\t\t\t\t\t\t<ion-col width-10>\n\t\t\t\t\t\t\t\t\t<i (click)=\"tag.value = ''\" class=\"fa fa-times fa-2x\"></i>\n\t\t\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t\t\t</ion-row>\n\t\t\t\t\t\t</ion-grid>\n                        </ion-card-content>\n                    </ion-card>\n\n\n\n                    <ion-card *ngIf=\"currentPresets[tag.key]?.type === 'number'\">\n                        <ion-card-header>\n                        \t<b *ngIf=\"!displayCode\">{{currentPresets[tag.key]?.lbl}}</b>\n\t\t\t\t\t\t    <b *ngIf=\"displayCode\">{{tag.key}}</b>\n                        </ion-card-header>\n\n                        <ion-card-content>\n                        <ion-grid>\n\t\t\t\t\t\t\t<ion-row>\n\t\t\t\t\t\t\t\t<ion-col width-90>\n                                \t<ion-item style=\"padding-left: 0px\">\n\t\t\t\t\t\t\t\t\t\t<ion-input type=\"number\" [(ngModel)]=\"tag.value\" [placeholder]=\"tag.key\"></ion-input>\n\t\t\t\t\t\t\t\t\t</ion-item>\n                               \n                                </ion-col>\n\t\t\t\t\t\t\t\t<ion-col width-10>\n\t\t\t\t\t\t\t\t\t<i (click)=\"tag.value = ''\" class=\"fa fa-times fa-2x\"></i>\n\t\t\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t\t\t</ion-row>\n\t\t\t\t\t\t</ion-grid>\n                        </ion-card-content>\n                    </ion-card>\n\n\n\n                    <ion-card *ngIf=\"currentPresets[tag.key]?.type === 'text'\">\n                        <ion-card-header>\n                        \t<b *ngIf=\"!displayCode\">{{currentPresets[tag.key]?.lbl}}</b>\n\t\t\t\t\t\t    <b *ngIf=\"displayCode\">{{tag.key}}</b>\n                        </ion-card-header>\n\n                        <ion-card-content>\n                        <ion-grid>\n\t\t\t\t\t\t\t<ion-row>\n\t\t\t\t\t\t\t\t<ion-col width-90>\n                                \t<ion-item style=\"padding-left: 0px\">\n\t\t\t\t\t\t\t\t\t\t<ion-input type=\"text\" [(ngModel)]=\"tag.value\" [placeholder]=\"tag.key\"></ion-input>\n\t\t\t\t\t\t\t\t\t</ion-item>\n                                </ion-col>\n\t\t\t\t\t\t\t\t<ion-col width-10>\n\t\t\t\t\t\t\t\t\t<i (click)=\"tag.value = ''\" class=\"fa fa-times fa-2x\"></i>\n\t\t\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t\t\t</ion-row>\n\t\t\t\t\t\t</ion-grid>\n                        </ion-card-content>\n                    </ion-card>\n  `\n})\nexport class EditPresets {\n    @Input() displayCode;\n    @Input() currentPresets;\n    @Input() tag;\n\n    @Output() openPrimaryListModal = new EventEmitter();\n\n    emitOpenModal(){\n        if (!this.displayCode && this.currentPresets[this.tag.key].type == 'list'){\n              this.openPrimaryListModal.emit();\n        }\n    }\n\n    findCurrentConfigPresset(tag) {\n        if (this.currentPresets[tag.key]) {\n            if (this.currentPresets[tag.key].type == 'list' || this.currentPresets[tag.key].type == 'select') {\n                for (let i = 0; i < this.currentPresets[tag.key].tags.length; i++) {\n                    if (this.currentPresets[tag.key].tags[i].v == tag.value){\n                        return this.currentPresets[tag.key].tags[i];\n                    }\n                }\n            }\n            else {\n                return  {v: tag.value, lbl: tag.value}\n            }\n        }\n        else { //=> undefined ???\n        }\n        return null;\n    }\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/components/EDIT_Presets.component.ts","import { Component, Input } from '@angular/core';\n\n@Component({\n    selector: 'read-other-tag',\n    template: `\n   \t    <ion-card>\n\t\t\t<ion-card-header>\n\t\t\t\t\t<b>{{tag.key}}</b>\n\t\t\t\t</ion-card-header>\n\t\t\t\t<ion-card-content>\n\t\t\t\t\t<p>{{tag.value}}</p>\n\t\t\t\t</ion-card-content>\n\t\t\t</ion-card>\n  `\n})\nexport class ReadOtherTag {\n    @Input() tag;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/components/READ_OtherTag.component.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n    selector: 'edit-other-tag',\n    template: `\n   \t    <ion-card>\n\t\t\t\t<ion-card-header>\n\t\t\t\t\t<b>{{tag.key}}</b>\n\t\t\t\t</ion-card-header>\n\t\t\t\t<ion-card-content>\n\t\t\t\t\t<ion-grid>\n\t\t\t\t\t\t<ion-row>\n\t\t\t\t\t\t\t<ion-col width-90>\n\t\t\t\t\t\t\t\t<ion-item>\n\t\t\t\t\t\t\t\t\t<ion-input type=\"text\" [(ngModel)]=\"tag.value\" [placeholder]=\"tag.key\"></ion-input>\n\t\t\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t\t\t<ion-col width-10>\n\t\t\t\t\t\t\t\t<i (click)=\"eventDeleteTag(tag)\" class=\"fa fa-times fa-2x\"></i>\n\t\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t\t</ion-row>\n\t\t\t\t\t</ion-grid>\n\t\t\t\t</ion-card-content>\n\t\t\t</ion-card>\n  `\n})\nexport class EditOtherTag {\n    @Input() tag;\n\t@Output() deleteTag = new EventEmitter();\n\n\teventDeleteTag(){\n\t\tthis.deleteTag.emit(this.tag)\n\n\t}\n\n\t\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/components/EDIT_OtherTag.component.ts","import { Component, Input } from '@angular/core';\n\n@Component({\n    selector: 'read-meta',\n    template: `\n  \t<ion-card style=\"background-color: #f4f4f4;\">\n\t\t<ion-card-content>\n\t\t\tVersion : {{meta?.version}} <br> Modifié le : {{meta.timestamp | date:'dd/MM/yyyy\n\t\t\tHH:mm'}}\n\t\t\t<!-- | date:'dd/MM/yyyy HH:mm'-->\n\t\t\t<br> Par : {{meta?.user}}\n\t\t</ion-card-content>\n\t</ion-card>\n  `\n})\nexport class ReadMeta {\n    @Input() meta;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/components/READ_Meta.component.ts","import { Component, Input } from '@angular/core';\r\nimport { MenuController, AlertController, Platform } from 'ionic-angular';\r\nimport { AboutPage } from '../about/about';\r\nimport { PushDataToOsmPage } from '../pushDataToOsm/pushDataToOsm';\r\nimport { RouterService } from '../../services/router.service'\r\nimport { MapService } from '../../services/map.service'\r\nimport { OsmApiService } from '../../services/osmApi.service';\r\nimport { DataService } from '../../services/data.service';\r\nimport { ConfigService } from '../../services/config.service';\r\nimport { AlertService } from '../../services/alert.service';\r\n\r\n\r\n@Component({\r\n    selector: 'menu-content',\r\n    templateUrl: './menu.html'\r\n})\r\nexport class MenuPage {\r\n\r\n    @Input() content;\r\n    aboutPage = AboutPage;\r\n    pushDataToOsmPage = PushDataToOsmPage;\r\n\r\n    constructor(public routerService: RouterService, public menuCtrl: MenuController,\r\n        public mapService: MapService,\r\n        public osmApi: OsmApiService,\r\n        public dataService: DataService,\r\n        public configService : ConfigService,\r\n        public alertService: AlertService,\r\n        private alertCtrl: AlertController,\r\n        public platform: Platform\r\n    ) {\r\n\r\n\r\n    }\r\n\r\n      deleteDatapresentConfirm() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Vraiment?',\r\n      message: 'Supprimer les données téléchargées? (conserve les modifications)',\r\n      buttons: [\r\n        {\r\n          text: 'Annuler',\r\n          role: 'cancel',\r\n          handler: () => {\r\n\r\n          }\r\n        },\r\n        {\r\n          text: 'Confirmer',\r\n          handler: () => {\r\n            this.mapService.resetDataMap();\r\n            this.closeMenu();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  exit(){\r\n      this.platform.exitApp();\r\n  }\r\n    pushPage(pageName) {\r\n        this.routerService.pushPage(pageName)\r\n    }\r\n    setRootPage(pageName) {\r\n        this.routerService.setRootPage(pageName)\r\n\r\n    }\r\n\r\n    closeMenu() {\r\n        this.menuCtrl.close();\r\n    }\r\n\r\n    logout(){\r\n        this.configService.setIsDelayed(true);\r\n        this.osmApi.resetUserInfo();\r\n        this.pushPage('loginPage')\r\n    }\r\n \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/menu/menu.ts"," import {Pipe, PipeTransform} from '@angular/core';\r\n\r\n\r\n\r\n @Pipe({name: 'keys'})\r\n export class KeysPipe implements PipeTransform {\r\n transform(value) {\r\n   let keys: any = [];\r\n   for (let key in value) {\r\n      keys.push( {key: key, value: value[key]} );\r\n    }\r\n     return keys;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/keys.pipe.ts","import {Pipe, PipeTransform} from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'filterExcludeKeys',\r\n    pure: false\r\n})\r\n\r\nexport class FilterExcludeKeysPipe implements PipeTransform {\r\n    transform(items, excludeKeys: string[]) {\r\n        if (excludeKeys)\r\n        return items.filter(item => excludeKeys.indexOf(item.key) === -1);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/filterExcludeKeys.pipe.ts","import {Pipe, PipeTransform} from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'filterIncludeKeys',\r\n    pure: false\r\n})\r\n\r\nexport class FilterIncludeKeysPipe implements PipeTransform {\r\n    transform(items, includeKeys: string[]) {\r\n        if (includeKeys)\r\n            return items.filter(item => includeKeys.indexOf(item.key) !== -1);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/filterIncludeKeys.pipe.ts","import {Pipe, PipeTransform} from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'filterNull',\r\n    pure: false\r\n})\r\n\r\nexport class FilterNullValuePipe implements PipeTransform {\r\n    transform(items) {\r\n        if (items)\r\n         return items.filter(item => (item.value && item.value !== '' ));\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/filterNullValue.pipe.ts","import {Pipe, PipeTransform} from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'lowercase',\r\n    pure: false\r\n})\r\n\r\nexport class ToLowercasePipe implements PipeTransform {\r\n    transform(text:string) {\r\n        if (text)\r\n         return text.toLowerCase();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/toLowercase.pipe.ts","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'filterByContent',\r\n    pure: false\r\n})\r\n\r\nexport class FilterByContentPipe implements PipeTransform {\r\n    transform(items, keys: string[], searchText: string) {\r\n        let patt = new RegExp(searchText, 'i');\r\n \r\n        return items.filter(item => {\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (patt.test(item[keys[i]])) {\r\n                    return true;\r\n                } else if (  patt.test(item[keys[i]].replace(/[û]/g, 'u')\r\n                        .replace(/[Àáàâ]/g, 'a')\r\n                        .replace(/[Ééèê]/g, 'e')\r\n                        .replace(/[íîï]/g, 'i')\r\n                        .replace(/[óô]/g, 'o')\r\n                        .replace(/ç/g, 'c'))) {\r\n                    return true;\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/filterByContent.pipe.ts","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { DeviceOrientation, DeviceOrientationCompassHeading } from '@ionic-native/device-orientation';\r\n\r\nimport { Diagnostic } from '@ionic-native/diagnostic';\r\n\r\n\r\n@Injectable()\r\nexport class LocationService {\r\n    eventNewLocation = new EventEmitter();\r\n    eventNewCompassHeading = new EventEmitter();\r\n    eventStartCompassHeading = new EventEmitter();\r\n    eventPlatformReady = new EventEmitter();\r\n    location;\r\n    pointGeojson;\r\n    compassHeading = { magneticHeading: 0, trueHeading: 0, headingAccuracy: 0, timestamp: 0 };\r\n    headingTest = 0;\r\n    gpsIsReady = false;\r\n    subscriptionLocation;\r\n    subscriptionWatchLocation;\r\n\r\n    constructor(private geolocation: Geolocation, private deviceOrientation: DeviceOrientation, private diagnostic: Diagnostic) {\r\n\r\n\r\n\r\n        // this.compassHeading = { magneticHeading: 0, trueHeading: 0, headingAccuracy: 0, timestamp: 0 };\r\n\r\n\r\n        this.eventPlatformReady.subscribe(isVirtual => {\r\n            /*DEBUG ionic serve */\r\n            if (isVirtual) {\r\n                this.location = { coords: { accuracy: 20, altitude: null, altitudeAccuracy: null, heading: null, latitude: 45.1865723, longitude: 5.7171862, speed: null }, timestamp: 1479114012803 };\r\n                this.eventNewLocation.emit(this.getGeojsonPos());\r\n                this.gpsIsReady = true;\r\n                this.enableGeolocation();\r\n            } else {\r\n\r\n                this.diagnostic.registerLocationStateChangeHandler(data => {\r\n                    if (data === 'location_off') {\r\n                        this.disableGeolocation();\r\n                    } else {\r\n                        this.enableGeolocation();\r\n                    }\r\n                })\r\n\r\n                this.diagnostic.isLocationAuthorized()\r\n                    .then(autorised => {\r\n                        if (autorised === false) {\r\n                            this.diagnostic.requestLocationAuthorization().then(e => {\r\n                                if (e == 'GRANTED') {\r\n                                    this.checkIfLocationIsAvailable()\r\n                                }\r\n                            })\r\n\r\n                        } else {\r\n                            this.checkIfLocationIsAvailable()\r\n                        }\r\n                    })\r\n            }\r\n            this.heading(isVirtual)\r\n        })\r\n    }\r\n\r\n    checkIfLocationIsAvailable() {\r\n        this.diagnostic.isLocationAvailable()\r\n            .then(isLocationAvailable => {\r\n                if (!isLocationAvailable) {\r\n                    this.diagnostic.switchToLocationSettings();\r\n                } else { // la loc est activé\r\n                    this.enableGeolocation();\r\n                }\r\n            })\r\n            .catch(error => {\r\n               \r\n            });\r\n    }\r\n\r\n    enableGeolocation() {\r\n     \r\n        this.subscriptionWatchLocation = this.geolocation.watchPosition({ enableHighAccuracy: true })\r\n            //.filter((p) => p === undefined) //Filter Out Errors\r\n            // .filter((p: PositionError) => {\r\n            //     if (p.code == 1) { // debug run livereload (fix => non https)\r\n            //         this.location = { coords: { accuracy: 20, altitude: null, altitudeAccuracy: null, heading: null, latitude: 45.1865723, longitude: 5.7171862, speed: null }, timestamp: 1479114012803 };\r\n            //         this.eventNewLocation.emit(this.getGeojsonPos());\r\n                  \r\n            //         if (!this.gpsIsReady)\r\n            //             this.gpsIsReady = true;\r\n            //     }\r\n            //     return p.code === undefined\r\n            // }) //Filter Out Errors\r\n            .subscribe((data) => {\r\n                this.getGeojsonPos()\r\n                if (!this.gpsIsReady)\r\n                    this.gpsIsReady = true;\r\n                this.location = data;\r\n                this.eventNewLocation.emit(this.getGeojsonPos());\r\n            });\r\n    };\r\n\r\n    disableGeolocation() {\r\n        this.subscriptionWatchLocation.unsubscribe()\r\n    }\r\n\r\n    heading(isVirtual) {\r\n        if (isVirtual) { // for testing : ionic Serve\r\n                this.compassHeading = { magneticHeading: 0, trueHeading: 0, headingAccuracy: 0, timestamp: 0 };\r\n                this.eventNewCompassHeading.emit(this.compassHeading);\r\n        } else {\r\n            this.deviceOrientation.watchHeading({ frequency: 50 }).subscribe((data) => {\r\n                this.compassHeading = data;\r\n                this.eventNewCompassHeading.emit(data);\r\n            });\r\n        }\r\n    }\r\n    getLocation() {\r\n        return this.location;\r\n    }\r\n\r\n    getCoordsPosition() {\r\n        if (this.location) {\r\n            return [this.location.coords.longitude, this.location.coords.latitude]\r\n        }\r\n        else {\r\n            return [0, 0];\r\n        }\r\n    }\r\n\r\n    getGeojsonPos() {\r\n        let lon = (this.location && this.location.coords) ? this.location.coords.longitude : 5.6;\r\n        let lat = (this.location && this.location.coords) ? this.location.coords.latitude : 45.6;\r\n        let accuracy = (this.location) ? this.location.coords.accuracy : 0;\r\n        let heading = this.compassHeading.trueHeading;\r\n\r\n        this.pointGeojson = {\r\n            \"type\": \"FeatureCollection\", \"features\": [\r\n                {\r\n                    \"geometry\": { \"type\": \"Point\", \"coordinates\": [lon, lat] },\r\n                    \"properties\": {\r\n                        \"accuracy\": accuracy,\r\n                        \"trueHeading\": heading\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n        return this.pointGeojson\r\n    }\r\n\r\n    getGeoJSONCirclePosition(points = 64) {\r\n        if (!points) points = 64;\r\n        let radiusInKm = this.location.coords.accuracy / 1000;\r\n        let coords = {\r\n            latitude: this.location.coords.latitude,\r\n            longitude: this.location.coords.longitude\r\n        };\r\n        let km = radiusInKm;\r\n        let ret = [];\r\n        let distanceX = km / (111.320 * Math.cos(coords.latitude * Math.PI / 180));\r\n        let distanceY = km / 110.574;\r\n\r\n        let theta, x, y;\r\n        for (let i = 0; i < points; i++) {\r\n            theta = (i / points) * (2 * Math.PI);\r\n            x = distanceX * Math.cos(theta);\r\n            y = distanceY * Math.sin(theta);\r\n            ret.push([coords.longitude + x, coords.latitude + y]);\r\n        }\r\n        ret.push(ret[0]);\r\n        return {\r\n            \"type\": \"FeatureCollection\", \"features\": [{ \"type\": \"Feature\", \"geometry\": { \"type\": \"Polygon\", \"coordinates\": [ret] } }]\r\n        };\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/location.service.ts"],"sourceRoot":""}